import{r as o,R as Re,j as e}from"./vendor-react-BG_lTMXN.js";import{a as Be}from"./useJobSeekers-BIVK7Etj.js";import{u as Oe,L as ve,B as C,A as le,d as he,C as D,P as De}from"./index-CrLUAZuT.js";import{b as Ie}from"./useCategories-D_XDxjVw.js";import{B as pe}from"./Badge-Cl_wnvm6.js";import{D as Te}from"./DataTable-Dsbzu7ld.js";import{M as ne}from"./Modal-CPHQOzYY.js";import{ae as $e,ac as ie,bn as Je,ad as Ue,aI as Ge,aG as Ne,aH as Ke,aF as fe,bo as _e,au as He,aY as We,bj as ze,av as qe,aZ as Ve,aU as Ye,aW as Qe,aP as Ze}from"./vendor-common-4_u_l0HW.js";import{m as je}from"./vendor-motion-BQP9zw4B.js";import"./vendor-router-SHHli2PS.js";import"./vendor-gsap-B4nt0ofr.js";import"./categoryService-Dqg645_X.js";const we=({isOpen:Y,onClose:S,onSubmit:oe,educationLevels:be=[],availabilityOptions:ce=[],skillsData:Q=[],languageLevels:a=[],jobCategories:h=[],isEdit:N=!1,initialData:n=null})=>{const[r,j]=o.useState({firstName:"",lastName:"",email:"",contactNumber:"",description:"",skills:"",gender:"",dateOfBirth:"",idNumber:"",maritalStatus:"",location:"",city:"",country:"Rwanda",references:"",experience:"",experienceLevel:"",monthlyRate:"",jobCategoryId:"",educationLevel:"",availability:"",languages:"",certifications:""}),[c,p]=o.useState({}),[I,L]=o.useState(!1),[b,G]=o.useState(null),[u,R]=o.useState(null),[g,B]=o.useState([]),[T,K]=o.useState(""),[y,Z]=o.useState(""),[f,v]=o.useState([]),[A,O]=o.useState(""),[X,w]=o.useState(""),_=[{value:"no_experience",label:"No Experience (0 years)",description:"New to the workforce"},{value:"beginner",label:"Beginner (1-2 years)",description:"Some basic experience"},{value:"intermediate",label:"Intermediate (3-5 years)",description:"Moderate experience"},{value:"experienced",label:"Experienced (6-10 years)",description:"Significant experience"},{value:"expert",label:"Expert (10+ years)",description:"Extensive experience"}],P=["House Cleaning","Laundry","Ironing","Cooking","Meal Preparation","Kitchen Management","Childcare","Elderly Care","Pet Care","First Aid","Safety","Educational Activities","Gardening","Plant Care","Basic Repairs","Security Monitoring","Access Control","Food Service","Table Setting","Order Taking","Cash Handling","Customer Service","Bartending","Food Delivery","Housekeeping","Reception","Secretarial Work","Carpentry","Plumbing","Electrical Work","Masonry","Painting","Welding","Machining","Landscaping","Baking","Safe Driving","Vehicle Maintenance","Route Planning","GPS Navigation","Defensive Driving","Passenger Safety","Accounting","Bookkeeping","Marketing","Sales","Business Development","Financial Analysis","Human Resources","Operations Management","Supply Chain Management","Inventory Management","Negotiation","Product Knowledge","Market Knowledge","JavaScript","React","Node.js","Python","Java","C++","PHP","Ruby","Go","Rust","HTML/CSS","TypeScript","Angular","Vue.js","Django","Flask","Laravel","Express.js","MongoDB","PostgreSQL","MySQL","Redis","Docker","Kubernetes","AWS","Azure","GCP","Project Management","Agile/Scrum","Leadership","Team Management","Communication","Problem Solving","Critical Thinking","Time Management","Graphic Design","Web Design","Video Editing","Photography","Content Writing","Social Media Management","Digital Marketing","SEO","Copywriting","Nursing","Medical Assistance","Pharmacy","Laboratory Work","Patient Care","Medical Records","Health Administration","Teaching","Tutoring","Curriculum Development","Student Assessment","Classroom Management","Special Education","ESL Teaching","Security","Event Planning","Tourism","Translation","Interpretation","Data Entry","Administrative Work"].filter(s=>s.toLowerCase().includes(y.toLowerCase())),ee=["Kinyarwanda","English","French","Swahili","German","Spanish","Chinese","Arabic","Portuguese","Italian","Dutch","Russian","Japanese","Korean","Hindi","Turkish"].filter(s=>s.toLowerCase().includes(X.toLowerCase())),m=s=>{const{name:i,value:k}=s.target;j(t=>({...t,[i]:k})),c[i]&&p(t=>({...t,[i]:""}))},H=s=>{g.includes(s)||(B(i=>[...i,s]),W([...g,s]))},me=s=>{const i=g.filter(k=>k!==s);B(i),W(i)},te=()=>{if(T.trim()&&!g.includes(T.trim())){const s=[...g,T.trim()];B(s),K(""),W(s)}},W=s=>{j(i=>({...i,skills:s.join(", ")}))},ae=s=>{f.includes(s)||(v(i=>[...i,s]),M([...f,s]))},$=s=>{const i=f.filter(k=>k!==s);v(i),M(i)},z=()=>{if(A.trim()&&!f.includes(A.trim())){const s=[...f,A.trim()];v(s),O(""),M(s)}},M=s=>{j(i=>({...i,languages:s.join(", ")}))},J=()=>{const s={};if(r.firstName.trim()?r.firstName.trim().length<2&&(s.firstName="First name must be at least 2 characters"):s.firstName="First name is required",r.lastName.trim()?r.lastName.trim().length<2&&(s.lastName="Last name must be at least 2 characters"):s.lastName="Last name is required",r.contactNumber.trim()?/^\+?[\d\s\-\(\)]{10,}$/.test(r.contactNumber.trim())||(s.contactNumber="Please enter a valid phone number (25 ---)"):s.contactNumber="Phone number is required",r.experienceLevel.trim()||(s.experienceLevel="Experience level is required"),r.email.trim()&&!/\S+@\S+\.\S+/.test(r.email.trim())&&(s.email="Please enter a valid email address"),r.dateOfBirth){const i=new Date(r.dateOfBirth),t=new Date().getFullYear()-i.getFullYear();(t<16||t>100)&&(s.dateOfBirth="Age must be between 16 and 100 years")}return r.monthlyRate&&isNaN(parseFloat(r.monthlyRate))&&(s.monthlyRate="Please enter a valid number for monthly rate"),r.skills.trim()||(s.skills="At least one skill is required"),p(s),Object.keys(s).length===0},U=async s=>{if(s.preventDefault(),J()){L(!0);try{const i={firstName:r.firstName.trim(),lastName:r.lastName.trim(),email:r.email.trim()||null,contactNumber:r.contactNumber.trim(),description:r.description.trim(),skills:r.skills.trim(),gender:r.gender,dateOfBirth:r.dateOfBirth,idNumber:r.idNumber.trim(),maritalStatus:r.maritalStatus,location:r.location.trim(),city:r.city.trim(),country:r.country,references:r.references.trim(),experience:r.experience.trim(),experienceLevel:r.experienceLevel.trim(),monthlyRate:r.monthlyRate?parseFloat(r.monthlyRate):null,jobCategoryId:r.jobCategoryId?parseInt(r.jobCategoryId,10):null,educationLevel:r.educationLevel,availability:r.availability,languages:r.languages.trim(),certifications:r.certifications.trim()};await oe(i,b),S()}catch(i){console.error("Form submission error:",i)}finally{L(!1)}}},ue=()=>{S()};Re.useEffect(()=>{if(Y){if(N&&n){if(j({firstName:n.firstName||"",lastName:n.lastName||"",email:n.email||"",contactNumber:n.contactNumber||"",description:n.description||"",skills:n.skills||"",gender:n.gender||"",dateOfBirth:n.dateOfBirth||"",idNumber:n.idNumber||"",maritalStatus:n.maritalStatus||"",location:n.location||"",city:n.city||"",country:n.country||"Rwanda",references:n.references||"",experience:n.experience||"",experienceLevel:n.experienceLevel||"",monthlyRate:n.monthlyRate||"",jobCategoryId:n.jobCategoryId||"",educationLevel:n.educationLevel||"",availability:n.availability||"",languages:n.languages||"",certifications:n.certifications||""}),n.skills){const s=n.skills.split(",").map(i=>i.trim()).filter(i=>i);B(s)}if(n.languages){const s=n.languages.split(",").map(i=>i.trim()).filter(i=>i);v(s)}n.photo?R(n.photo):R(null)}else j({firstName:"",lastName:"",email:"",contactNumber:"",description:"",skills:"",gender:"",dateOfBirth:"",idNumber:"",maritalStatus:"",location:"",city:"",country:"Rwanda",references:"",experience:"",experienceLevel:"",monthlyRate:"",jobCategoryId:"",educationLevel:"",availability:"",languages:"",certifications:""}),B([]),v([]);p({}),G(null),N||R(null)}},[Y,N]);const xe=s=>{const i=s.target.files&&s.target.files[0];if(!i)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(i.type)){p(t=>({...t,photo:"Invalid file type. Use JPEG/PNG/GIF/WEBP."}));return}if(i.size>5*1024*1024){p(t=>({...t,photo:"Photo must be less than 5MB."}));return}p(t=>({...t,photo:""})),G(i),R(URL.createObjectURL(i))};return e.jsx(ne,{isOpen:Y,onClose:S,title:N?"Edit Job Seeker":"Add New Job Seeker",maxWidth:"max-w-4xl",children:e.jsxs("form",{onSubmit:U,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx("input",{type:"text",name:"firstName",value:r.firstName,onChange:m,className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 ${c.firstName?"border-red-500":"border-gray-300"}`,placeholder:"Enter first name",required:!0}),c.firstName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx("input",{type:"text",name:"lastName",value:r.lastName,onChange:m,className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 ${c.lastName?"border-red-500":"border-gray-300"}`,placeholder:"Enter last name",required:!0}),c.lastName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.lastName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Optional)"}),e.jsx("input",{type:"email",name:"email",value:r.email,onChange:m,className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 ${c.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter email (optional)"}),c.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),e.jsx("input",{type:"tel",name:"contactNumber",value:r.contactNumber,onChange:m,className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 ${c.contactNumber?"border-red-500":"border-gray-300"}`,placeholder:"+250788123456",required:!0}),c.contactNumber&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.contactNumber})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),e.jsxs("select",{name:"gender",value:r.gender,onChange:m,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"}),e.jsx("option",{value:"Prefer not to say",children:"Prefer not to say"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Photo (optional)"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:u?e.jsx("img",{src:u,alt:"preview",className:"w-full h-full object-cover"}):e.jsx("div",{className:"text-gray-500",children:"No photo"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:xe,className:"block"}),c.photo&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.photo}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Max 5MB. JPEG/PNG/GIF/WEBP."})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),e.jsx("input",{type:"date",name:"dateOfBirth",value:r.dateOfBirth,onChange:m,className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 ${c.dateOfBirth?"border-red-500":"border-gray-300"}`}),c.dateOfBirth&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.dateOfBirth})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Number"}),e.jsx("input",{type:"text",name:"idNumber",value:r.idNumber,onChange:m,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"Enter ID number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marital Status"}),e.jsxs("select",{name:"maritalStatus",value:r.maritalStatus,onChange:m,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Single",children:"Single"}),e.jsx("option",{value:"Married",children:"Married"}),e.jsx("option",{value:"Prefer not to say",children:"Prefer not to say"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsx("input",{type:"text",name:"location",value:r.location,onChange:m,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Kigali, Rwanda"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),e.jsx("input",{type:"text",name:"city",value:r.city,onChange:m,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"Enter city"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),e.jsx("input",{type:"text",name:"country",value:r.country,onChange:m,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"Enter country"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Category"}),e.jsxs("select",{name:"jobCategoryId",value:r.jobCategoryId,onChange:m,disabled:h.length===0,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:h.length===0?"Loading categories...":"Select Category"}),h.map(s=>e.jsxs("option",{value:s.id.toString(),children:[s.name_en," - ",s.name_rw]},s.id))]}),h.length===0&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Loading job categories..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Rate (frw)"}),e.jsx("input",{type:"number",name:"monthlyRate",value:r.monthlyRate,onChange:m,className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 ${c.monthlyRate?"border-red-500":"border-gray-300"}`,placeholder:"Enter monthly rate"}),c.monthlyRate&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.monthlyRate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Education Level"}),e.jsxs("select",{name:"educationLevel",value:r.educationLevel,onChange:m,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Education Level"}),e.jsx("option",{value:"No Formal Education",children:"No Formal Education"}),e.jsx("option",{value:"Primary School",children:"Primary School"}),e.jsx("option",{value:"Secondary School",children:"Secondary School"}),e.jsx("option",{value:"High School",children:"High School"}),e.jsx("option",{value:"Vocational Training",children:"Vocational Training"}),e.jsx("option",{value:"Associate Degree",children:"Associate Degree"}),e.jsx("option",{value:"Bachelor's Degree",children:"Bachelor's Degree"}),e.jsx("option",{value:"Master's Degree",children:"Master's Degree"}),e.jsx("option",{value:"PhD",children:"PhD"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Availability"}),e.jsxs("select",{name:"availability",value:r.availability,onChange:m,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Availability"}),e.jsx("option",{value:"Available",children:"Available"}),e.jsx("option",{value:"Part-time",children:"Part-time"}),e.jsx("option",{value:"Contract",children:"Contract"}),e.jsx("option",{value:"Freelance",children:"Freelance"}),e.jsx("option",{value:"Not Available",children:"Not Available"}),e.jsx("option",{value:"Open to Opportunities",children:"Open to Opportunities"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skills *"}),e.jsxs("div",{className:"space-y-3",children:[g.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:g.map((s,i)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:[s,e.jsx("button",{type:"button",onClick:()=>me(s),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]},i))}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",value:y,onChange:s=>Z(s.target.value),placeholder:"Search skills...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-1 max-h-32 overflow-y-auto border border-gray-300 rounded p-2",children:P.map(s=>e.jsx("button",{type:"button",onClick:()=>H(s),disabled:g.includes(s),className:`text-left p-1 rounded text-xs ${g.includes(s)?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white hover:bg-blue-50 text-gray-700 border border-gray-200"}`,children:s},s))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:T,onChange:s=>K(s.target.value),placeholder:"Add custom skill...",className:"flex-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),te())}),e.jsx("button",{type:"button",onClick:te,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Add"})]})]}),c.skills&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.skills})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience Level *"}),e.jsxs("select",{name:"experienceLevel",value:r.experienceLevel,onChange:m,className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 ${c.experienceLevel?"border-red-500":"border-gray-300"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select Experience Level"}),_.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]}),c.experienceLevel&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.experienceLevel})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience Details (Optional)"}),e.jsx("textarea",{name:"experience",value:r.experience,onChange:m,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"Describe your specific work experience, previous jobs, or relevant background",rows:"3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:r.description,onChange:m,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"Brief description about yourself",rows:"3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Languages"}),e.jsxs("div",{className:"space-y-3",children:[f.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:f.map((s,i)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:[s,e.jsx("button",{type:"button",onClick:()=>$(s),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]},i))}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",value:X,onChange:s=>w(s.target.value),placeholder:"Search languages...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-1 max-h-32 overflow-y-auto border border-gray-300 rounded p-2",children:ee.map(s=>e.jsx("button",{type:"button",onClick:()=>ae(s),disabled:f.includes(s),className:`text-left p-1 rounded text-xs ${f.includes(s)?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white hover:bg-green-50 text-gray-700 border border-gray-200"}`,children:s},s))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:A,onChange:s=>O(s.target.value),placeholder:"Add custom language...",className:"flex-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),z())}),e.jsx("button",{type:"button",onClick:z,className:"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Add"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certifications"}),e.jsx("textarea",{name:"certifications",value:r.certifications,onChange:m,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"List any certifications or licenses",rows:"2"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"References"}),e.jsx("textarea",{name:"references",value:r.references,onChange:m,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"List your references with contact information",rows:"3"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6",children:[e.jsx("button",{type:"button",onClick:ue,className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",disabled:I,children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:I,children:I?N?"Updating...":"Creating...":N?"Update Job Seeker":"Create Job Seeker"})]})]})})},ke=[{id:"none",name:"No Formal Education",description:"Learned through experience"},{id:"primary",name:"Primary School",description:"Basic education completed"},{id:"secondary",name:"Secondary School",description:"High school education"},{id:"vocational",name:"Vocational Training",description:"Trade or skill training"},{id:"bachelor",name:"Bachelor's Degree",description:"University degree"},{id:"master",name:"Master's Degree",description:"Advanced university degree"},{id:"phd",name:"PhD/Doctorate",description:"Highest academic degree"}],Ce=[{id:"fulltime",name:"Full Time",description:"Available for full-time work"},{id:"parttime",name:"Part Time",description:"Available for part-time work"},{id:"flexible",name:"Flexible",description:"Flexible schedule available"},{id:"weekends",name:"Weekends Only",description:"Available on weekends"},{id:"evenings",name:"Evenings Only",description:"Available in evenings"},{id:"oncall",name:"On Call",description:"Available when needed"}],Se=["House Cleaning","Laundry","Ironing","Cooking","Meal Preparation","Kitchen Management","Childcare","Elderly Care","Pet Care","First Aid","Safety","Educational Activities","Gardening","Landscaping","Plant Care","Basic Repairs","Plumbing","Electrical","Carpentry","Painting","Security Monitoring","Access Control","Patrol","Safe Driving","Vehicle Maintenance","Route Planning","GPS Navigation","Defensive Driving","Passenger Safety","Food Service","Table Setting","Order Taking","Cash Handling","Customer Service","Bartending","Food Delivery","Sales","Inventory Management","Negotiation","Product Knowledge","Market Knowledge","Kinyarwanda","English","French","Swahili","Basic Communication","Translation"],Le=[{id:"basic",name:"Basic",description:"Can understand and speak basic phrases"},{id:"conversational",name:"Conversational",description:"Can hold basic conversations"},{id:"fluent",name:"Fluent",description:"Can speak and understand well"},{id:"native",name:"Native",description:"Native speaker level"}],Xe=[{value:"no_experience",label:"No Experience (0 years)",description:"New to the workforce"},{value:"beginner",label:"Beginner (1-2 years)",description:"Some basic experience"},{value:"intermediate",label:"Intermediate (3-5 years)",description:"Moderate experience"},{value:"experienced",label:"Experienced (6-10 years)",description:"Significant experience"},{value:"expert",label:"Expert (10+ years)",description:"Extensive experience"}],V={experienceLevel:[{value:"",label:"All Experience Levels"},...Xe],category:[{value:"",label:"All Categories"}],location:[{value:"",label:"All Locations"},{value:"kigali",label:"Kigali"},{value:"butare",label:"Butare"},{value:"gisenyi",label:"Gisenyi"},{value:"ruhengeri",label:"Ruhengeri"},{value:"kibuye",label:"Kibuye"},{value:"cyangugu",label:"Cyangugu"},{value:"kibungo",label:"Kibungo"},{value:"rwamagana",label:"Rwamagana"}],gender:[{value:"",label:"All Genders"},{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}]},xt=()=>{const{t:Y}=$e(),{user:S,isAuthenticated:oe,loading:be}=Oe(),[ce,Q]=o.useState(!1),[a,h]=o.useState(null),[N,n]=o.useState(!1),[r,j]=o.useState(!1),[c,p]=o.useState(!1),[I,L]=o.useState(!1),[b,G]=o.useState(""),[u,R]=o.useState({experienceLevel:"",category:"",location:"",gender:""}),[g,B]=o.useState(!1),[T,K]=o.useState(!1),{categories:y,loading:Z}=Ie(),[f,v]=o.useState(""),[A,O]=o.useState(!1),[X,w]=o.useState(""),[_,E]=o.useState(!1),{jobSeekers:P,loading:de,error:ee,totalItems:m,fetchJobSeekers:H,createJobSeeker:me,updateJobSeeker:te,deleteJobSeeker:W}=Be({autoFetch:!0,itemsPerPage:10});o.useEffect(()=>{S&&S.role==="admin"&&H()},[S,H]),o.useEffect(()=>{if(A){const t=setTimeout(()=>{O(!1),v("")},3e3);return()=>clearTimeout(t)}},[A]),o.useEffect(()=>{if(_){const t=setTimeout(()=>{E(!1),w("")},5e3);return()=>clearTimeout(t)}},[_]);const ae=t=>{G(t),K(!0),setTimeout(()=>K(!1),300)},$=(t,l)=>{R(d=>({...d,[t]:l}))},z=()=>{R({experienceLevel:"",category:"",location:"",gender:""}),G("")},M=o.useMemo(()=>!P||P.length===0?[]:P.filter(t=>{if(b){const l=b.toLowerCase(),d=`${t.profile?.firstName||t.firstName||""} ${t.profile?.lastName||t.lastName||""}`.toLowerCase(),x=(t.email||"").toLowerCase(),q=(t.profile?.skills||t.skills||"").toLowerCase(),ge=(t.profile?.location||t.location||"").toLowerCase();if(!d.includes(l)&&!x.includes(l)&&!q.includes(l)&&!ge.includes(l))return!1}return!(u.experienceLevel&&t.profile?.experienceLevel!==u.experienceLevel||u.category&&t.profile?.jobCategory?.name_en?.toLowerCase()!==u.category.toLowerCase()||u.location&&(t.profile?.location||t.location||"").toLowerCase()!==u.location.toLowerCase()||u.gender&&t.profile?.gender!==u.gender)}),[P,b,u]),J=o.useMemo(()=>{let t=0;return b&&t++,Object.values(u).forEach(l=>{l&&t++}),t},[b,u]);o.useEffect(()=>{if(y&&y.length>0){const t=[{value:"",label:"All Categories"},...y.map(l=>({value:l.name_en.toLowerCase(),label:l.name_en}))];V.category=t}},[y]);const U=(t,l)=>{switch(t){case"openActions":h(l),L(!0);break;case"view":h(l),n(!0),L(!1);break;case"edit":h(l),j(!0),L(!1);break;case"delete":h(l),p(!0),L(!1);break}},ue=async(t,l=null)=>{try{const d=await me(t,l);d.success?(Q(!1),v("Job seeker created successfully!"),O(!0)):(w(`Error: ${d.error}`),E(!0))}catch(d){w("Failed to create job seeker"),E(!0),console.error("Create job seeker error:",d)}},xe=async(t,l=null)=>{if(a)try{const d=await te(a.id,t,l);d.success?(j(!1),h(null),v("Job seeker updated successfully!"),O(!0)):(w(`Error: ${d.error}`),E(!0))}catch(d){w("Failed to update job seeker"),E(!0),console.error("Update job seeker error:",d)}},s=async()=>{if(a)try{const t=await W(a.id);t.success?(p(!1),h(null),v("Job seeker deleted successfully!"),O(!0)):(w(`Error: ${t.error}`),E(!0))}catch(t){w("Failed to delete job seeker"),E(!0),console.error("Delete job seeker error:",t)}},i=t=>[{key:"openActions",title:"Actions",icon:_e,className:"text-gray-600 hover:bg-gray-50"}];if(be)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ve,{size:"lg",text:"Checking authentication..."})});if(!oe)return e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:"text-red-700",children:"You must be logged in to access this page."})]}),e.jsx(C,{onClick:()=>window.location.href="/login",className:"mt-2",variant:"outline",size:"sm",children:"Go to Login"})]});if(S?.role!=="admin")return e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"w-5 h-5 text-yellow-500"}),e.jsx("span",{className:"text-yellow-700",children:"You must be an admin to access this page."})]}),e.jsx(C,{onClick:()=>window.location.href="/dashboard/jobseeker",className:"mt-2",variant:"outline",size:"sm",children:"Go to Job Seeker Dashboard"})]});const k=[{key:"name",label:"joobseekr details",render:t=>{if(!t)return e.jsx("div",{className:"text-gray-500",children:"No data"});const l=t.profile?.firstName||t.firstName||"Unknown",d=t.profile?.lastName||t.lastName||"",x=t.email||"No email",q=t.profile?.contactNumber||t.contactNumber||"No phone",ge=t.profile?.gender||t.gender||"Not specified",Ae=t.profile?.photo||t.photo||null,ye=(F=>F?/^https?:\/\//i.test(F)?F:`${le.BASE_URL}/${F.replace(/^\//,"")}`:null)(Ae),Ee=(F,Pe)=>{const se=(F||"").trim(),re=(Pe||"").trim(),Me=se?se.charAt(0).toUpperCase():"",Fe=re?re.charAt(0).toUpperCase():"";return`${Me}${Fe}`||(se||re?(se||re).charAt(0).toUpperCase():"")};return e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center",children:ye?e.jsx("img",{src:ye,alt:`${l} ${d}`,className:"w-full h-full object-cover",onError:F=>{F.currentTarget.src=he}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-300 text-sm font-semibold text-white",children:Ee(l,d)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[l," ",d]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[q," ",e.jsxs(e.Fragment,{children:["• ",ge]})]}),e.jsx("div",{className:"text-lg text-gray-400",children:x})]})]})}},{key:"location",label:"Location",render:t=>{if(!t)return e.jsx("div",{className:"text-gray-500",children:"No data"});const l=t.profile?.location||t.location||"Not specified";return e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(qe,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:l})]})}},{key:"skills",label:"Skills",render:t=>{if(!t)return e.jsx("div",{className:"text-gray-500",children:"No data"});const l=t.profile?.skills||t.skills||"",d=Array.isArray(l)?l:l.split(",").map(x=>x.trim()).filter(x=>x);return e.jsxs("div",{className:"flex flex-wrap gap-1",children:[d.slice(0,3).map((x,q)=>e.jsx(pe,{variant:"secondary",size:"sm",children:x},q)),d.length>3&&e.jsxs(pe,{variant:"outline",size:"sm",children:["+",d.length-3," more"]})]})}},{key:"education",label:"Education",render:t=>{if(!t)return e.jsx("div",{className:"text-gray-500",children:"No data"});const l=t.profile?.educationLevel||"Not specified",d=t.profile?.availability||"Not specified";return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ve,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:l})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ye,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:d})]})]})}},{key:"experience",label:"Experience",render:t=>{if(!t)return e.jsx("div",{className:"text-gray-500",children:"No data"});const l=t.profile?.experienceLevel||"Not specified",d=x=>{switch(x){case"no_experience":return"No Experience";case"beginner":return"Beginner (1-2 years)";case"intermediate":return"Intermediate (3-5 years)";case"experienced":return"Experienced (6-10 years)";case"expert":return"Expert (10+ years)";default:return x}};return e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Qe,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:d(l)})]})}},{key:"createdAt",label:"Registered",render:t=>{if(!t)return e.jsx("div",{className:"text-gray-500",children:"No data"});const l=t.createdAt;return e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ze,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:l?new Date(l).toLocaleDateString():"Invalid Date"})]})}}];return de&&P.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ve,{size:"lg",text:"Loading job seekers..."})}):ee?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"w-5 h-5 text-red-500"}),e.jsxs("span",{className:"text-red-700",children:["Error: ",ee]})]}),e.jsx(C,{onClick:H,className:"mt-2",variant:"outline",size:"sm",children:"Retry"})]}):(P.length>0,e.jsxs("div",{className:"space-y-6",children:[a&&e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:(function(){const t=a?.profile?.photo||a?.photo||null,l=t&&(/^https?:\/\//i.test(t)?t:`${le.BASE_URL}/${t.replace(/^\//,"")}`);if(l)return e.jsx("img",{src:l,alt:`${a?.profile?.firstName||""} ${a?.profile?.lastName||""}`,className:"w-full h-full object-cover",onError:x=>{x.currentTarget.src=he}});const d=((a?.profile?.firstName||a?.firstName||"").charAt(0)||"")+((a?.profile?.lastName||a?.lastName||"").charAt(0)||"");return e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-400 text-2xl font-semibold text-white",children:d.toUpperCase()||"U"})})()}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold",children:[a?.profile?.firstName||a?.firstName||"Unknown"," ",a?.profile?.lastName||a?.lastName||""]}),e.jsx("p",{className:"text-sm text-gray-500",children:a?.email||"Not provided"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Job Seekers Management"}),e.jsxs("p",{className:"text-gray-600",children:["Manage all registered job seekers (",m," total)"]})]}),e.jsxs(C,{onClick:()=>Q(!0),children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Add Job Seeker"]})]}),A&&e.jsx(je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ue,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-green-700",children:f})]})}),_&&e.jsx(je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:"text-red-700",children:X})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Job Seekers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.length})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Ge,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Filters"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:J})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Ne,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Categories"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y?.length||0})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(Ke,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Search Results"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.length})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(fe,{className:"w-6 h-6 text-orange-600"})})]})})]}),e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(fe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search by name, email, skills, or location...",value:b,onChange:t=>ae(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),T&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})})]}),e.jsxs(C,{onClick:()=>B(!g),variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),"Filters ",J>0&&`(${J})`]}),J>0&&e.jsx(C,{onClick:z,variant:"outline",className:"text-red-600 hover:text-red-700",children:"Clear All"})]}),g&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience Level"}),e.jsx("select",{value:u.experienceLevel,onChange:t=>$("experienceLevel",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:V.experienceLevel.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsx("select",{value:u.category,onChange:t=>$("category",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:Z,children:Z?e.jsx("option",{children:"Loading categories..."}):V.category.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsx("select",{value:u.location,onChange:t=>$("location",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:V.location.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),e.jsx("select",{value:u.gender,onChange:t=>$("gender",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:V.gender.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]})]})]})}),M.length===0&&(b||Object.values(u).some(t=>t))&&e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(fe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No results found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search criteria or filters to find more job seekers."}),e.jsx(C,{onClick:z,variant:"outline",children:"Clear All Filters"})]}),e.jsx(D,{children:e.jsx(Te,{data:M,columns:k,loading:de,emptyMessage:"No job seekers found",actionButtons:i,onRowAction:U,pagination:!0,itemsPerPage:15,searchTerm:b,onSearchChange:ae,showSearch:!1})}),ce&&e.jsx(e.Fragment,{children:e.jsx(we,{isOpen:ce,onClose:()=>Q(!1),onSubmit:ue,educationLevels:ke,availabilityOptions:Ce,skillsData:Se,languageLevels:Le,jobCategories:y,isEdit:!1})}),r&&a&&e.jsx(e.Fragment,{children:(()=>{const t={firstName:a.profile?.firstName||a.firstName||"",lastName:a.profile?.lastName||a.lastName||"",email:a.email||"",contactNumber:a.profile?.contactNumber||a.contactNumber||"",description:a.profile?.description||a.description||"",skills:a.profile?.skills||a.skills||"",gender:a.profile?.gender||a.gender||"",dateOfBirth:a.profile?.dateOfBirth?new Date(a.profile.dateOfBirth).toISOString().split("T")[0]:"",idNumber:a.profile?.idNumber||"",maritalStatus:a.profile?.maritalStatus||"",location:a.profile?.location||a.location||"",city:a.profile?.city||"",country:a.profile?.country||"Rwanda",references:a.profile?.references||"",experience:a.profile?.experience||a.experience||"",experienceLevel:a.profile?.experienceLevel||"",monthlyRate:a.profile?.monthlyRate?a.profile.monthlyRate.toString():"",jobCategoryId:a.profile?.jobCategoryId?a.profile.jobCategoryId.toString():"",jobCategoryName:a.profile?.jobCategory?.name_en||"",educationLevel:a.profile?.educationLevel||"",availability:a.profile?.availability||"",languages:a.profile?.languages||"",certifications:a.profile?.certifications||"",photo:(()=>{const l=a?.profile?.photo||a?.photo||null;return l?/^https?:\/\//i.test(l)?l:`${le.BASE_URL}/${l.replace(/^\//,"")}`:null})()};return e.jsx(we,{isOpen:r,onClose:()=>j(!1),onSubmit:xe,educationLevels:ke,availabilityOptions:Ce,skillsData:Se,languageLevels:Le,jobCategories:y,initialData:t,isEdit:!0})})()}),N&&a&&e.jsx(ne,{isOpen:N,onClose:()=>n(!1),title:"Job Seeker Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsxs("p",{className:"mt-1 text-gray-900",children:[a.profile?.firstName||a.firstName||"Unknown"," "," ",a.profile?.lastName||a.lastName||""]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.email||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.profile?.contactNumber||a.contactNumber||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.profile?.location||a.location||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.profile?.gender||a.gender||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Registered"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.createdAt?new Date(a.createdAt).toLocaleDateString():"Not available"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Photo"}),e.jsx("div",{className:"mt-2",children:(function(){const t=a?.profile?.photo||a?.photo||null,l=t?/^https?:\/\//i.test(t)?t:`${le.BASE_URL}/${t.replace(/^\//,"")}`:he;return e.jsx(De,{src:l,alt:`${a?.profile?.firstName||""} ${a?.profile?.lastName||""}`,size:"xl",variant:"rounded",isPrivate:!1})})()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(a.profile?.skills||a.skills||"").split(",").map((t,l)=>t.trim()).filter(t=>t).map((t,l)=>e.jsx(pe,{variant:"secondary",children:t},l))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.profile?.description||a.description||"No description provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Experience Level"}),e.jsx("p",{className:"mt-1 text-gray-900",children:(()=>{switch(a.profile?.experienceLevel){case"no_experience":return"No Experience (0 years)";case"beginner":return"Beginner (1-2 years)";case"intermediate":return"Intermediate (3-5 years)";case"experienced":return"Experienced (6-10 years)";case"expert":return"Expert (10+ years)";default:return"Not specified"}})()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Experience Details"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.profile?.experience||a.experience||"Not specified"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.profile?.city||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.profile?.country||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Job Category"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.profile?.jobCategory?.name_en||a.profile?.jobCategoryId||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Monthly Rate"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.profile?.monthlyRate?`${a.profile.monthlyRate} frw`:"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Education Level"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.profile?.educationLevel||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Availability"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.profile?.availability||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Marital Status"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.profile?.maritalStatus||"Not specified"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Languages"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.profile?.languages||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Certifications"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.profile?.certifications||"Not specified"})]})]}),a.profile?.references&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"References"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.profile.references})]}),a.profile?.idNumber&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ID Number"}),e.jsx("p",{className:"mt-1 text-gray-900",children:a.profile.idNumber})]}),a.profile?.dateOfBirth&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),e.jsx("p",{className:"mt-1 text-gray-900",children:new Date(a.profile.dateOfBirth).toLocaleDateString()})]})]})}),I&&a&&e.jsx(ne,{isOpen:I,onClose:()=>L(!1),title:`Actions for ${a.profile?.firstName||a.firstName||"Unknown"} ${a.profile?.lastName||a.lastName||""}`,maxWidth:"max-w-md",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>U("view",a),className:"w-full flex items-center space-x-3 p-3 text-left rounded-lg hover:bg-blue-50 transition-colors duration-200",children:[e.jsx(He,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-gray-900",children:"View Details"})]}),e.jsxs("button",{onClick:()=>U("edit",a),className:"w-full flex items-center space-x-3 p-3 text-left rounded-lg hover:bg-green-50 transition-colors duration-200",children:[e.jsx(We,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-900",children:"Edit Job Seeker"})]}),e.jsxs("button",{onClick:()=>U("delete",a),className:"w-full flex items-center space-x-3 p-3 text-left rounded-lg hover:bg-red-50 transition-colors duration-200",children:[e.jsx(ze,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{className:"text-gray-900",children:"Delete Job Seeker"})]})]})}),c&&a&&e.jsx(ne,{isOpen:c,onClose:()=>p(!1),title:"Delete Job Seeker",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{children:["Are you sure you want to delete"," ",a.profile?.firstName||a.firstName||"Unknown"," "," ",a.profile?.lastName||a.lastName||"","? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(C,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),e.jsx(C,{variant:"danger",onClick:s,children:"Delete"})]})]})})]}))};export{xt as default};
