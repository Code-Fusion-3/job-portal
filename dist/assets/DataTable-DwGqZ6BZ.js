import{r as p,j as e,aF as F,ai as I,bu as M}from"./vendor-react-7c9Xkq5J.js";import{B as y}from"./index-DolTLsE4.js";import{B as R}from"./Badge-CH2cxQEz.js";const W=({columns:o,data:u,onRowAction:w,actionButtons:d=[],searchTerm:i="",onSearchChange:k,filters:f=[],onFilterChange:C,pagination:j=!1,itemsPerPage:x=10,className:D="",showSearch:S=!0})=>{const[t,v]=p.useState(1),[l,A]=p.useState(""),[c,b]=p.useState("asc"),z=s=>{l===s?b(c==="asc"?"desc":"asc"):(A(s),b("asc"))},n=[...(Array.isArray(u)?u:[]).filter(s=>{if(i){const r=i.toLowerCase();return o.some(a=>a.searchable&&s[a.key]&&s[a.key].toString().toLowerCase().includes(r))}return!0})].sort((s,r)=>{if(!l)return 0;const a=s[l],N=r[l];return a<N?c==="asc"?-1:1:a>N?c==="asc"?1:-1:0}),h=Math.ceil(n.length/x),g=(t-1)*x,m=g+x,L=j?n.slice(g,m):n,E=(s,r)=>r.render?r.render(s):r.type==="badge"?e.jsx(R,{variant:"outline",size:"sm",className:r.badgeColor?r.badgeColor(s[r.key]):"",children:s[r.key]}):r.type==="currency"?new Intl.NumberFormat("en-RW",{style:"currency",currency:"frw",minimumFractionDigits:0}).format(s[r.key]):r.type==="date"?new Date(s[r.key]).toLocaleDateString():s[r.key];return e.jsxs("div",{className:`bg-white rounded-lg shadow ${D}`,children:[(i!==void 0||f.length>0)&&e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[S&&i!==void 0&&e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Search...",value:i,onChange:s=>k?.(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})}),f.map((s,r)=>e.jsx("div",{className:"sm:w-48",children:e.jsxs("select",{value:s.value,onChange:a=>C?.(s.key,a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:s.placeholder}),s.options.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]})},r))]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 overflow-x-auto",children:e.jsx("div",{className:"",children:e.jsxs("table",{className:"",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[o.map(s=>e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${s.sortable?"cursor-pointer hover:bg-gray-100":""}`,onClick:()=>s.sortable&&z(s.key),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:s.label}),s.sortable&&l===s.key&&(c==="asc"?e.jsx(F,{className:"w-4 h-4"}):e.jsx(I,{className:"w-4 h-4"}))]})},s.key)),d&&d.length>0&&e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map((s,r)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[o.map(a=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E(s,a)},a.key)),d&&d.length>0&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(y,{variant:"ghost",size:"sm",onClick:()=>w?.("openActions",s),className:"text-gray-600 hover:bg-gray-100",title:"Actions",children:e.jsx(M,{className:"w-4 h-4"})})})]},s.id||r))})]})})}),j&&h>1&&e.jsx("div",{className:"px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",g+1," to ",Math.min(m,n.length)," of ",n.length," results"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(y,{variant:"outline",size:"sm",onClick:()=>v(t-1),disabled:t===1,children:"Previous"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",t," of ",h]}),e.jsx(y,{variant:"outline",size:"sm",onClick:()=>v(t+1),disabled:t===h,children:"Next"})]})]})})]})};export{W as D};
