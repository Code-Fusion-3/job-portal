import{r as p,j as e,bk as y,af as C,bP as w}from"./vendor-react-BGn7VswH.js";import{S as a}from"./StatusBadge-oETaPpAp.js";import{B as A}from"./index-C7FXNmYZ.js";import{R as S}from"./RejectionReasonModal-BKCuiSd5.js";import"./vendor-motion-DwrKfzy9.js";import"./vendor-router-BywwqvzY.js";import"./vendor-gsap-B4nt0ofr.js";import"./Modal-DL9fvMFM.js";const R=({profileId:c,currentStatus:r,onApprovalChange:x,disabled:n=!1,className:d="",...m})=>{const[l,g]=p.useState(!1),[j,t]=p.useState(null),u=(s=>{switch(s){case"pending":return["approve","reject"];case"approved":return["reject"];case"rejected":return["approve"];default:return[]}})(r),b=async s=>{if(!(n||l)){g(!0),t(s);try{s==="approve"?await x("approved"):s==="reject"&&await x("rejected")}catch(h){console.error(`Error performing ${s} action:`,h)}finally{g(!1),t(null)}}},f=s=>{const h=j===s,v=n||l,o={approve:{variant:"primary",icon:C,label:"Approve",color:"text-green-600",bgColor:"bg-green-50 hover:bg-green-100"},reject:{variant:"danger",icon:y,label:"Reject",color:"text-red-600",bgColor:"bg-red-50 hover:bg-red-100"}}[s],N=o.icon;return e.jsxs(A,{variant:o.variant,size:"sm",onClick:()=>b(s),disabled:v,className:`min-w-[100px] ${o.bgColor} ${o.color} border ${o.color.replace("text-","border-")} hover:${o.bgColor}`,"aria-label":`${o.label} profile ${c}`,title:`${o.label} this profile`,...m,children:[l&&h?e.jsx(w,{className:"w-4 h-4 animate-spin mr-2","aria-hidden":"true"}):e.jsx(N,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),l&&h?`${s==="approve"?"Approving":"Rejecting"}...`:o.label]},s)};return u.length===0?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{status:r,size:"sm"}),e.jsx("span",{className:"text-sm text-gray-500",children:"No actions available"})]}):e.jsxs("div",{className:`flex items-center gap-3 ${d}`,children:[e.jsx(a,{status:r,size:"sm"}),e.jsx("div",{className:"flex gap-2",children:u.map(s=>f(s))})]})},E=()=>{const[c,r]=p.useState("pending"),[x,n]=p.useState(!1),[d,m]=p.useState({id:1,name:"John Doe",status:"pending"}),l=async t=>{if(t==="rejected"){n(!0);return}console.log(`Changing status from ${c} to ${t}`),r(t),m(i=>({...i,status:t}))},g=async t=>{console.log("Rejection reason submitted:",t),await new Promise(i=>setTimeout(i,1e3)),r("rejected"),m(i=>({...i,status:"rejected"})),n(!1)},j=()=>{r("pending"),m(t=>({...t,status:"pending"}))};return e.jsxs("div",{className:"p-8 max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Approval Components Test"}),e.jsx("p",{className:"text-gray-600",children:"Testing all three foundation components for the approval system"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"StatusBadge Component Tests"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"All Statuses:"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(a,{status:"pending"}),e.jsx(a,{status:"approved"}),e.jsx(a,{status:"rejected"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Different Sizes:"}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsx(a,{status:"pending",size:"sm"}),e.jsx(a,{status:"approved",size:"md"}),e.jsx(a,{status:"rejected",size:"lg"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Without Icons:"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(a,{status:"pending",showIcon:!1}),e.jsx(a,{status:"approved",showIcon:!1}),e.jsx(a,{status:"rejected",showIcon:!1})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"ApprovalActions Component Tests"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Current Status: ",c]}),e.jsx(R,{profileId:d.id,currentStatus:c,onApprovalChange:l})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:j,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Reset to Pending"}),e.jsx("button",{onClick:()=>r("approved"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Set to Approved"}),e.jsx("button",{onClick:()=>r("rejected"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Set to Rejected"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"RejectionReasonModal Test"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"Click the button below to test the rejection reason modal"}),e.jsx("button",{onClick:()=>n(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Open Rejection Modal"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Profile State:"}),e.jsx("pre",{className:"text-sm text-gray-600 bg-white p-3 rounded border",children:JSON.stringify(d,null,2)})]}),e.jsx(S,{isOpen:x,onClose:()=>n(!1),onSubmit:g,profileName:d.name})]})};export{E as default};
