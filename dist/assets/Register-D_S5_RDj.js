import{r as h,j as e,R as we}from"./vendor-react-CKpXowxj.js";import{a as Ce,L as W}from"./vendor-router-B2B7BfwQ.js";import{a as F,h as B,B as A,H as Se,F as Le}from"./index-7EHOV8Kf.js";import{F as k}from"./FormInput-Dolv1bfl.js";import{P as re}from"./PasswordInput-BHn2Ta4N.js";import{m as j,A as se}from"./vendor-motion-Z4Y15-CO.js";import{F as te}from"./FormCheckbox-BYfOm9Fc.js";import{aN as _,aJ as Ee,aa as Pe,au as Te,ae as Me,aw as qe,aU as Ie,aV as Re,ag as ae,av as Fe,aW as Be,aK as Ae}from"./vendor-common-bIfcTjM_.js";import{H as Oe}from"./HeroSection-Cg-kmkUz.js";import{M as De}from"./Modal-CGmGlHB1.js";import{u as ze}from"./useCategories-D0yiZDz_.js";import{j as We}from"./jobseekerBackground-BLVGbC9a.js";import"./vendor-gsap-lnFyu4_T.js";import"./categoryService-DdJVW5uk.js";const _e={registerJobSeeker:async(r,n=null)=>{try{return{success:!0,user:await F.registerJobSeeker(r,n)}}catch(g){if(g.response?.data){const{data:m}=g.response;if(m.details&&Array.isArray(m.details))return{success:!1,backendErrors:m.details,error:"Validation failed. Please check the details below."};if(m.error){if(["Email already registered.","Phone number already registered.","ID number already registered."].includes(m.error)){let f="email";return m.error.includes("Phone")&&(f="contactnumber"),m.error.includes("ID")&&(f="idnumber"),{success:!1,backendErrors:[{field:f,message:m.error}],error:"Please check the details below."}}return{success:!1,error:m.error}}if(m.message)return{success:!1,error:m.message}}return{success:!1,error:B(g,{context:"register_job_seeker"}).userMessage}}},loginJobSeeker:async r=>{try{const n=await F.loginJobSeeker(r);return{success:!0,user:n.user,token:n.token}}catch(n){return n.response?.data?.error?{success:!1,error:n.response.data.error}:{success:!1,error:B(n,{context:"login_job_seeker"}).userMessage}}},loginAdmin:async r=>{try{const n=await F.loginAdmin(r);return{success:!0,user:n.user,token:n.token}}catch(n){return n.response?.data?.error?{success:!1,error:n.response.data.error}:{success:!1,error:B(n,{context:"login_admin"}).userMessage}}},logout:async()=>{try{return await F.logout(),{success:!0}}catch(r){return{success:!1,error:B(r,{context:"logout"}).userMessage}}}},He=({id:r,name:n,label:g,value:x,onChange:m,placeholder:a,error:f,required:L=!1,className:E="",...c})=>{const[u,d]=h.useState("");h.useEffect(()=>{x&&d(x)},[x]);const v=l=>{const y=l.target.value;d(y),m({target:{name:n,value:y,type:"text"}})};return e.jsxs("div",{className:E,children:[g&&e.jsxs("label",{htmlFor:r,className:"block text-sm font-semibold text-gray-700 mb-2",children:[g,L&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("div",{className:"flex items-center bg-white border border-gray-300 rounded-xl shadow-sm overflow-hidden focus-within:ring-2 focus-within:ring-red-500",children:e.jsx("input",{type:"tel",id:r,name:n,value:u,onChange:v,placeholder:a||"Enter phone number",className:"flex-1 px-4 py-2 text-sm text-gray-900 placeholder-gray-400 focus:outline-none",inputMode:"numeric",...c})}),f&&e.jsx(j.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600",children:f}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter your phone number (minimum 9 digits)"})]})},Je=({value:r="jobseeker",onChange:n,label:g,required:x=!1,className:m="",...a})=>e.jsxs("div",{className:m,children:[g&&e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[g,x&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("div",{className:"w-full",children:e.jsxs(j.button,{type:"button",onClick:()=>n("jobseeker"),className:`w-full p-4 border-2 rounded-lg text-center transition-all duration-200 ${r==="jobseeker"?"border-red-500 bg-red-50 text-red-700":"border-gray-300 hover:border-gray-400"}`,whileHover:{scale:1.02},whileTap:{scale:.98},...a,children:[e.jsx(_,{className:"w-6 h-6 mx-auto mb-2"}),e.jsx("div",{className:"font-medium",children:"Job Seeker"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Looking for opportunities"})]})})]}),Ve=({isOpen:r,onClose:n,errors:g=[],onScrollToField:x})=>{if(!r||!g.length)return null;const a=(c=>{const u={required:[],additional:[],professional:[],general:[]};return c.forEach(d=>{const v=d.field?.toLowerCase()||"";["firstname","lastname","password","contactnumber"].includes(v)?u.required.push(d):["email","skills","languages","gender","dateofbirth","idnumber","maritalstatus","location","city","country"].includes(v)?u.additional.push(d):["experience","experiencelevel","monthlyrate","jobcategoryid","educationlevel","availability","certifications","references"].includes(v)?u.professional.push(d):u.general.push(d)}),Object.keys(u).forEach(d=>{u[d].length===0&&delete u[d]}),u})(g),f=c=>({required:"Required Information",additional:"Additional Information",professional:"Professional Information",general:"General Issues"})[c]||c,L=c=>({firstname:"First Name",lastname:"Last Name",password:"Password",contactnumber:"Phone Number",email:"Email",skills:"Skills",languages:"Languages",gender:"Gender",dateofbirth:"Date of Birth",idnumber:"ID Number",maritalstatus:"Marital Status",location:"Location",city:"City",country:"Country",experience:"Experience",experiencelevel:"Experience Level",monthlyrate:"Monthly Rate",jobcategoryid:"Job Category",educationlevel:"Education Level",availability:"Availability",certifications:"Certifications",references:"References"})[c?.toLowerCase()]||c||"Unknown Field",E=c=>{if(x){const d={firstname:"firstName",lastname:"lastName",contactnumber:"contactNumber",dateofbirth:"dateOfBirth",idnumber:"idNumber",maritalstatus:"maritalStatus",jobcategoryid:"jobCategoryId",educationlevel:"educationLevel",experiencelevel:"experienceLevel",monthlyrate:"monthlyRate",email:"email",password:"password",skills:"skills",languages:"languages",gender:"gender",location:"location",city:"city",country:"country",experience:"experience",certifications:"certifications",references:"references",availability:"availability"}[c?.toLowerCase()]||c;x(d)}};return e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-gray-900/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:c=>c.target===c.currentTarget&&n(),children:e.jsxs(j.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"bg-white rounded-xl shadow-2xl border border-gray-200/50 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx(Ee,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Backend Validation Errors"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please fix the following issues to continue"})]})]}),e.jsx(A,{variant:"ghost",size:"sm",onClick:n,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:e.jsx(Pe,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-lg text-gray-600 mb-1",children:["Found ",g.length," validation error",g.length!==1?"s":""]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Click on any error to navigate to the corresponding field"})]}),Object.entries(a).map(([c,u])=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),f(c),e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",u.length,")"]})]}),e.jsx("div",{className:"space-y-2",children:u.map((d,v)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:[L(d.field),":"]}),e.jsx("span",{className:"text-red-600 ml-2",children:d.message})]}),e.jsxs("button",{onClick:()=>E(d.field),className:"ml-3 px-3 py-1 text-sm bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors duration-200 flex items-center gap-1",title:"Go to field",children:[e.jsx(Te,{className:"w-3 h-3"}),"Go to Field"]})]},v))})]},c)),e.jsx("div",{className:"flex justify-center pt-4 border-t border-gray-200",children:e.jsx(A,{variant:"primary",onClick:n,className:"px-6 py-2 bg-red-600 hover:bg-red-700",children:"Fix Errors"})})]})})]})})},Ue=["education.noFormal","education.primarySchool","education.secondarySchool","education.highSchool","education.vocationalTraining","education.associateDegree","education.bachelorsDegree","education.mastersDegree","education.phd","education.other"],$e=["availability.available","availability.partTime","availability.contract","availability.freelance","availability.notAvailable","availability.openToOpportunities"],Ge=["skills.houseCleaning","skills.laundry","skills.ironing","skills.cooking","skills.mealPreparation","skills.kitchenManagement","skills.childcare","skills.elderlyCare","skills.petCare","skills.firstAid","skills.safety","skills.educationalActivities","skills.gardening","skills.plantCare","skills.basicRepairs","skills.securityMonitoring","skills.accessControl","skills.foodService","skills.tableSetting","skills.orderTaking","skills.cashHandling","skills.customerService","skills.bartending","skills.foodDelivery","skills.housekeeping","skills.reception","skills.secretarialWork","skills.carpentry","skills.plumbing","skills.electricalWork","skills.masonry","skills.painting","skills.welding","skills.machining","skills.landscaping","skills.baking","skills.safeDriving","skills.vehicleMaintenance","skills.routePlanning","skills.gpsNavigation","skills.defensiveDriving","skills.passengerSafety","skills.accounting","skills.bookkeeping","skills.marketing","skills.sales","skills.businessDevelopment","skills.financialAnalysis","skills.humanResources","skills.operationsManagement","skills.supplyChainManagement","skills.inventoryManagement","skills.negotiation","skills.productKnowledge","skills.marketKnowledge","skills.javascript","skills.react","skills.nodejs","skills.python","skills.java","skills.cpp","skills.php","skills.ruby","skills.go","skills.rust","skills.htmlcss","skills.typescript","skills.angular","skills.vuejs","skills.django","skills.flask","skills.laravel","skills.expressjs","skills.mongodb","skills.postgresql","skills.mysql","skills.redis","skills.docker","skills.kubernetes","skills.aws","skills.azure","skills.gcp","skills.projectManagement","skills.agileScrum","skills.leadership","skills.teamManagement","skills.communication","skills.problemSolving","skills.criticalThinking","skills.timeManagement","skills.graphicDesign","skills.webDesign","skills.videoEditing","skills.photography","skills.contentWriting","skills.socialMediaManagement","skills.digitalMarketing","skills.seo","skills.copywriting","skills.nursing","skills.medicalAssistance","skills.pharmacy","skills.laboratoryWork","skills.patientCare","skills.medicalRecords","skills.healthAdministration","skills.teaching","skills.tutoring","skills.curriculumDevelopment","skills.studentAssessment","skills.classroomManagement","skills.specialEducation","skills.eslTeaching","skills.security","skills.eventPlanning","skills.tourism","skills.translation","skills.interpretation","skills.dataEntry","skills.administrativeWork"],dr=()=>{const{t:r}=Me(),n=Ce(),{categories:g,loading:x,error:m}=ze(),[a,f]=h.useState({firstName:"",lastName:"",contactNumber:"",password:"",confirmPassword:"",email:"",description:"",skills:"",gender:"",dateOfBirth:"",idNumber:"",maritalStatus:"",location:"",city:"",country:"",references:"",experience:"",jobCategoryId:"",educationLevel:"",availability:"",languages:"",certifications:"",experienceLevel:"",monthlyRate:"",userType:"jobseeker",agreeToTerms:!1,agreeToMarketing:!1}),[L,E]=h.useState(null),[c,u]=h.useState(null),[d,v]=h.useState(!1),[l,y]=h.useState({}),[H,N]=h.useState(!1),[ie,J]=h.useState([]),[le,P]=h.useState(!1),[ne,V]=h.useState([]),[T,oe]=h.useState({additionalInfo:!1,professionalInfo:!1}),[w,M]=h.useState([]),[q,U]=h.useState(""),[$,ce]=h.useState(""),[C,I]=h.useState([]),[R,G]=h.useState(""),[K,de]=h.useState(""),Z=s=>{oe(t=>({...t,[s]:!t[s]}))},ge=Ge.filter(s=>s.toLowerCase().includes($.toLowerCase())),me=["languages.kinyarwanda","languages.english","languages.french","languages.swahili","languages.german","languages.spanish","languages.chinese","languages.arabic","languages.portuguese","languages.italian","languages.dutch","languages.russian","languages.japanese","languages.korean","languages.hindi","languages.turkish"].filter(s=>s.toLowerCase().includes(K.toLowerCase())),ue=s=>{w.includes(s)||M(t=>{const i=[...t,s];return O(i),i})},he=s=>{M(t=>{const i=t.filter(p=>p!==s);return O(i),i})},Y=()=>{q.trim()&&!w.includes(q.trim())&&(M(s=>{const t=[...s,q.trim()];return O(t),t}),U(""))},O=s=>{f(t=>({...t,skills:s.join(", ")}))},pe=s=>{C.includes(s)||I(t=>{const i=[...t,s];return D(i),i})},xe=s=>{I(t=>{const i=t.filter(p=>p!==s);return D(i),i})},X=()=>{R.trim()&&!C.includes(R.trim())&&(I(s=>{const t=[...s,R.trim()];return D(t),t}),G(""))},D=s=>{f(t=>({...t,languages:s.join(", ")}))},o=s=>{const{name:t,value:i,type:p,checked:S}=s.target;f(b=>({...b,[t]:p==="checkbox"?S:i})),l[t]&&y(b=>({...b,[t]:""})),H&&N(!1)},fe=s=>{const t=s.target.files[0];if(t){if(!t.type.startsWith("image/")){y(i=>({...i,photo:r("register.errors.photo")}));return}if(t.size>5*1024*1024){y(i=>({...i,photo:r("register.errors.photoSize")}));return}E(t),u(URL.createObjectURL(t)),y(i=>({...i,photo:""}))}},be=s=>{f(t=>({...t,userType:s}))};we.useEffect(()=>{if(a.skills){const s=a.skills.split(",").map(t=>t.trim()).filter(t=>t);M(s)}if(a.languages){const s=a.languages.split(",").map(t=>t.trim()).filter(t=>t);I(s)}},[]);const ye=s=>{const t={};return s.forEach(i=>{t[i.section]||(t[i.section]=[]),t[i.section].push(i)}),t},Q=s=>{const t=document.getElementById(s);t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.focus(),t.classList.add("ring-2","ring-red-500","ring-opacity-50"),setTimeout(()=>{t.classList.remove("ring-2","ring-red-500","ring-opacity-50")},2e3)),N(!1),P(!1)},je=()=>{const s={},t=[];if(a.firstName.trim()?a.firstName.trim().length<2&&(s.firstName=r("register.errors.firstNameLength"),t.push({field:"firstName",message:r("register.errors.firstNameLength"),section:"required",label:r("register.firstName")})):(s.firstName=r("register.errors.firstNameRequired"),t.push({field:"firstName",message:r("register.errors.firstNameRequired"),section:"required",label:r("register.firstName")})),a.lastName.trim()?a.lastName.trim().length<2&&(s.lastName=r("register.errors.lastNameLength"),t.push({field:"lastName",message:r("register.errors.lastNameLength"),section:"required",label:r("register.lastName")})):(s.lastName=r("register.errors.lastNameRequired"),t.push({field:"lastName",message:r("register.errors.lastNameRequired"),section:"required",label:r("register.lastName")})),a.contactNumber&&a.contactNumber.replace(/\D/g,"").length<9&&(s.contactNumber="Phone number must be at least 9 digits",t.push({field:"contactNumber",message:"Phone number must be at least 9 digits",section:"required",label:r("register.phone")})),a.password?a.password.length<6&&(s.password=r("register.errors.passwordLength"),t.push({field:"password",message:r("register.errors.passwordLength"),section:"required",label:r("register.password")})):(s.password=r("register.errors.passwordRequired"),t.push({field:"password",message:r("register.errors.passwordRequired"),section:"required",label:r("register.password")})),a.confirmPassword?a.password!==a.confirmPassword&&(s.confirmPassword=r("register.errors.passwordMismatch"),t.push({field:"confirmPassword",message:r("register.errors.passwordMismatch"),section:"required",label:r("register.confirmPassword")})):(s.confirmPassword=r("register.errors.confirmPasswordRequired"),t.push({field:"confirmPassword",message:r("register.errors.confirmPasswordRequired"),section:"required",label:r("register.confirmPassword")})),(!a.skills||a.skills.trim().length===0)&&(s.skills=r("register.errors.skillsRequired"),t.push({field:"skills",message:r("register.errors.skillsRequired"),section:"additional",label:r("register.skills")})),(!a.experienceLevel||a.experienceLevel.trim().length===0)&&(s.experienceLevel=r("register.errors.experienceLevelRequired"),t.push({field:"experienceLevel",message:r("register.errors.experienceLevelRequired"),section:"professional",label:r("register.experienceLevel")})),a.agreeToTerms||(s.agreeToTerms=r("register.errors.termsRequired"),t.push({field:"agreeToTerms",message:r("register.errors.termsRequired"),section:"required",label:r("register.terms")})),a.email&&a.email.trim().length>0&&(/^([a-zA-Z0-9_\-.]+)@([a-zA-Z0-9_\-.]+)\.([a-zA-Z]{2,})$/.test(a.email)||(s.email=r("register.errors.emailInvalid"),t.push({field:"email",message:r("register.errors.emailInvalid"),section:"additional",label:r("register.email")}))),a.dateOfBirth&&a.dateOfBirth.length>0){const i=new Date(a.dateOfBirth),p=new Date;let S=p.getFullYear()-i.getFullYear();const b=p.getMonth()-i.getMonth();(b<0||b===0&&p.getDate()<i.getDate())&&S--,S<18&&(s.dateOfBirth=r("register.errors.ageLimit"),t.push({field:"dateOfBirth",message:r("register.errors.ageLimit"),section:"additional",label:r("register.dateOfBirth")}))}return y(s),J(t),t.length>0&&N(!0),Object.keys(s).length===0},ve=async s=>{if(s.preventDefault(),!!je()){v(!0);try{const t={firstName:a.firstName.trim(),lastName:a.lastName.trim(),contactNumber:a.contactNumber.trim(),password:a.password,email:a.email.trim()||null,description:a.description.trim()||null,skills:a.skills.trim()||null,gender:a.gender||null,dateOfBirth:a.dateOfBirth||null,idNumber:a.idNumber.trim()||null,maritalStatus:a.maritalStatus||null,location:a.location.trim()||null,city:a.city.trim()||null,country:a.country.trim()||null,references:a.references.trim()||null,experience:a.experience.trim()||null,jobCategoryId:a.jobCategoryId?parseInt(a.jobCategoryId,10):null,availability:a.availability||null,certifications:a.certifications?.trim()||null,educationLevel:a.educationLevel||null,languages:a.languages.trim()||null,experienceLevel:a.experienceLevel||null,monthlyRate:a.monthlyRate.trim()||null};Object.keys(t).forEach(p=>{(t[p]===null||t[p]===""||t[p]===void 0)&&delete t[p]});const i=await _e.registerJobSeeker(t,L);i.success&&i.user?(y({}),J([]),N(!1),V([]),P(!1),i.user.role==="jobseeker"?n("/pending-approval"):i.user.role==="admin"?n("/dashboard/admin"):n("/")):i.backendErrors&&Array.isArray(i.backendErrors)?(V(i.backendErrors),P(!0)):y({general:i.error})}catch(t){console.error("Registration error:",t),y({general:r("register.errors.general")})}finally{v(!1)}}},ke=({errors:s,onClose:t,onScrollToField:i})=>{const p=ye(s),S=b=>{switch(b){case"required":return r("register.sections.required");case"additional":return r("register.sections.additional");case"professional":return r("register.sections.professional");default:return b}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center w-12 h-12 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-2",children:r("register.validationErrors.title")}),e.jsx("p",{className:"text-lg text-gray-600 mb-1",children:r("register.validationErrors.found",{count:s.length})}),e.jsx("p",{className:"text-sm text-gray-500",children:r("register.validationErrors.pleaseFix")})]}),Object.entries(p).map(([b,ee])=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),S(b),e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",ee.length,")"]})]}),e.jsx("div",{className:"space-y-2",children:ee.map((z,Ne)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:[z.label,":"]}),e.jsx("span",{className:"text-red-600 ml-2",children:z.message})]}),e.jsxs("button",{onClick:()=>i(z.field),className:"ml-3 px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200 flex items-center gap-1",children:[e.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),r("register.validationErrors.goToField")]})]},Ne))})]},b)),e.jsx("div",{className:"flex justify-center pt-4 border-t border-gray-200",children:e.jsx(A,{variant:"primary",onClick:t,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700",children:r("register.validationErrors.fixErrors")})})]})};return e.jsxs("div",{className:"min-h-screen bg-cover bg-center bg-fixed",style:{backgroundImage:`url(${We})`},children:[e.jsx(Se,{}),e.jsx(Oe,{title:r("register.title"),description:r("register.subtitle")}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative z-10",children:e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8 border border-white/20",children:e.jsxs("form",{onSubmit:ve,className:"space-y-8",children:[l.general&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-6",children:e.jsx("p",{className:"text-red-600 text-sm",children:l.general})}),e.jsx(Je,{value:a.userType,onChange:be}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:r("register.requiredFields")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(k,{id:"firstName",name:"firstName",label:r("register.firstName"),placeholder:r("register.firstNamePlaceholder"),value:a.firstName,onChange:o,error:l.firstName,icon:_,required:!0}),e.jsx(k,{id:"lastName",name:"lastName",label:r("register.lastName"),placeholder:r("register.lastNamePlaceholder"),value:a.lastName,onChange:o,error:l.lastName,icon:_,required:!0}),e.jsx(He,{id:"contactNumber",name:"contactNumber",label:r("register.phone"),value:a.contactNumber,onChange:o,error:l.contactNumber,required:!0}),e.jsx(k,{id:"email",name:"email",type:"email",label:r("register.email"),placeholder:r("register.emailPlaceholder"),value:a.email,onChange:o,error:l.email,icon:qe}),e.jsx(re,{id:"password",name:"password",label:r("register.password"),placeholder:r("register.passwordPlaceholder"),value:a.password,onChange:o,error:l.password,showStrength:!0,required:!0}),e.jsx(re,{id:"confirmPassword",name:"confirmPassword",label:r("register.confirmPassword"),placeholder:r("register.confirmPasswordPlaceholder"),value:a.confirmPassword,onChange:o,error:l.confirmPassword,required:!0}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 mb-2",children:r("register.gender")}),e.jsxs("select",{id:"gender",name:"gender",value:a.gender,onChange:o,className:"w-full py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors duration-200 text-gray-900 pl-4 pr-10",children:[e.jsx("option",{value:"",children:r("register.selectGender")}),e.jsx("option",{value:"Male",children:r("gender.male")}),e.jsx("option",{value:"Female",children:r("gender.female")}),e.jsx("option",{value:"Other",children:r("gender.other")}),e.jsx("option",{value:"Prefer not to say",children:r("gender.preferNotToSay")})]}),l.gender&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.gender})]}),e.jsx(k,{id:"dateOfBirth",name:"dateOfBirth",type:"date",label:r("register.dateOfBirth"),value:a.dateOfBirth,onChange:o,error:l.dateOfBirth,icon:Ie}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"jobCategoryId",className:"block text-sm font-medium text-gray-700 mb-2",children:r("register.jobCategory")}),e.jsxs("select",{id:"jobCategoryId",name:"jobCategoryId",value:a.jobCategoryId,onChange:o,disabled:x,className:"w-full py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors duration-200 text-gray-900 pl-4 pr-10 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:r(x?"register.loadingCategories":"register.selectJobCategory")}),!x&&g.map(s=>e.jsxs("option",{value:s.id,children:[s.name_en," - ",s.name_rw]},s.id))]}),l.jobCategoryId&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.jobCategoryId}),m&&e.jsxs("p",{className:"mt-1 text-sm text-red-600",children:[r("register.errorLoadingCategories")," ",m]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("register.experienceLevel")," *"]}),e.jsxs("select",{name:"experienceLevel",value:a.experienceLevel,onChange:o,className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 ${l.experienceLevel?"border-red-500":"border-gray-300"}`,required:!0,children:[e.jsx("option",{value:"",children:r("register.selectExperienceLevel")}),e.jsx("option",{value:"no_experience",children:r("experience.noExperience")}),e.jsx("option",{value:"beginner",children:r("experience.beginner")}),e.jsx("option",{value:"intermediate",children:r("experience.intermediate")}),e.jsx("option",{value:"experienced",children:r("experience.experienced")}),e.jsx("option",{value:"expert",children:r("experience.expert")})]}),l.experienceLevel&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r("register.errors.experienceLevelRequired")})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("register.profilePhoto")}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:fe,className:"hidden",id:"photo"}),e.jsx("label",{htmlFor:"photo",className:"flex items-center justify-center w-20 h-20 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-gray-400 transition-colors",children:c?e.jsx("img",{src:c,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}):e.jsx(Re,{className:"w-6 h-6 text-gray-400"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600",children:r("register.photoHelp")}),l.photo&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:l.photo})]})]})]})]})]})}),e.jsx("div",{className:"space-y-6 pb-4",children:e.jsxs(j.div,{className:"bg-gray-50 border border-gray-200 rounded-lg overflow-hidden",initial:!1,children:[e.jsxs("button",{type:"button",onClick:()=>Z("additionalInfo"),className:"w-full p-4 flex items-center justify-between hover:bg-gray-100 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r("register.additionalInfo")}),e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:r("register.optional")})]}),e.jsx(j.div,{animate:{rotate:T.additionalInfo?180:0},transition:{duration:.2},children:e.jsx(ae,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx(se,{children:T.additionalInfo&&e.jsx(j.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:e.jsxs("div",{className:"p-4 pb-8 border-t border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(k,{id:"idNumber",name:"idNumber",label:r("register.idNumber"),placeholder:r("register.idNumberPlaceholder"),value:a.idNumber,onChange:o,error:l.idNumber}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"maritalStatus",className:"block text-sm font-medium text-gray-700 mb-2",children:r("register.maritalStatus")}),e.jsxs("select",{id:"maritalStatus",name:"maritalStatus",value:a.maritalStatus,onChange:o,className:"w-full py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors duration-200 text-gray-900 pl-4 pr-10",children:[e.jsx("option",{value:"",children:r("register.selectMaritalStatus")}),e.jsx("option",{value:"Single",children:r("maritalStatus.single")}),e.jsx("option",{value:"Married",children:r("maritalStatus.married")}),e.jsx("option",{value:"Prefer not to say",children:r("maritalStatus.preferNotToSay")})]}),l.maritalStatus&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.maritalStatus})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"educationLevel",className:"block text-sm font-medium text-gray-700 mb-2",children:r("register.educationLevel")}),e.jsxs("select",{id:"educationLevel",name:"educationLevel",value:a.educationLevel,onChange:o,className:"w-full py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors duration-200 text-gray-900 pl-4 pr-10",children:[e.jsx("option",{value:"",children:r("register.selectEducationLevel")}),Ue.map(s=>e.jsx("option",{value:s,children:r(s)},s))]}),l.educationLevel&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.educationLevel})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"availability",className:"block text-sm font-medium text-gray-700 mb-2",children:r("register.availability")}),e.jsxs("select",{id:"availability",name:"availability",value:a.availability,onChange:o,className:"w-full py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors duration-200 text-gray-900 pl-4 pr-10",children:[e.jsx("option",{value:"",children:r("register.selectAvailability")}),$e.map(s=>e.jsx("option",{value:s,children:r(s)},s))]}),l.availability&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.availability})]}),e.jsx(k,{id:"location",name:"location",label:r("register.location"),placeholder:r("register.locationPlaceholder"),value:a.location,onChange:o,error:l.location,icon:Fe})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(k,{id:"city",name:"city",label:r("register.city"),placeholder:r("register.cityPlaceholder"),value:a.city,onChange:o,error:l.city}),e.jsx(k,{id:"country",name:"country",label:r("register.country"),placeholder:r("register.countryPlaceholder"),value:a.country,onChange:o,error:l.country}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r("register.skills")," *"]}),e.jsxs("div",{className:"space-y-3",children:[w.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:w.map((s,t)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:[r(s),e.jsx("button",{type:"button",onClick:()=>he(s),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]},t))}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",value:$,onChange:s=>ce(s.target.value),placeholder:r("register.searchSkills"),className:"w-full py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors duration-200 text-gray-900 pl-4 pr-10"})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1 max-h-32 overflow-y-auto border border-gray-300 rounded p-2",children:ge.map(s=>e.jsx("button",{type:"button",onClick:()=>ue(s),disabled:w.includes(s),className:`text-left p-1 rounded text-xs ${w.includes(s)?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white hover:bg-blue-50 text-gray-700 border border-gray-200"}`,children:r(s)},s))}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[e.jsx("input",{type:"text",value:q,onChange:s=>U(s.target.value),placeholder:r("register.addCustomSkill"),className:"col-span-2 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors duration-200 text-gray-900 pl-4 pr-10",onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),Y())}),e.jsx("button",{type:"button",onClick:Y,className:"px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-800 text-sm transition-colors duration-200",children:r("register.addButton")})]})]}),l.skills&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r("register.errors.skillsRequired")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("register.languages")}),e.jsxs("div",{className:"space-y-3",children:[C.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:C.map((s,t)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:[r(s),e.jsx("button",{type:"button",onClick:()=>xe(s),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]},t))}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",value:K,onChange:s=>de(s.target.value),placeholder:r("register.searchLanguages"),className:"w-full py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors duration-200 text-gray-900 pl-4 pr-10"})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1 max-h-32 overflow-y-auto border border-gray-300 rounded p-2",children:me.map(s=>e.jsx("button",{type:"button",onClick:()=>pe(s),disabled:C.includes(s),className:`text-left p-1 rounded text-xs ${C.includes(s)?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white hover:bg-green-50 text-gray-700 border border-gray-200"}`,children:r(s)},s))}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[e.jsx("input",{type:"text",value:R,onChange:s=>G(s.target.value),placeholder:r("register.addCustomLanguage"),className:"col-span-2 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors duration-200 text-gray-900 pl-4 pr-10",onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),X())}),e.jsx("button",{type:"button",onClick:X,className:"px-3 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm transition-colors duration-200",children:r("register.addButton")})]})]}),l.languages&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r("register.errors.languagesRequired")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("register.certifications")}),e.jsx("textarea",{name:"certifications",value:a.certifications,onChange:o,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:r("register.certificationsPlaceholder"),rows:"2"})]})]})]})})})]})}),e.jsxs(j.div,{className:"bg-gray-50 border border-gray-200 rounded-lg overflow-hidden",initial:!1,children:[e.jsxs("button",{type:"button",onClick:()=>Z("professionalInfo"),className:"w-full p-4 flex items-center justify-between hover:bg-gray-100 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r("register.professionalInfo")}),e.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:r("register.optional")})]}),e.jsx(j.div,{animate:{rotate:T.professionalInfo?180:0},transition:{duration:.2},children:e.jsx(ae,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx(se,{children:T.professionalInfo&&e.jsx(j.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:e.jsxs("div",{className:"p-4 border-t border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("register.experienceDetails")}),e.jsx("textarea",{name:"experience",value:a.experience,onChange:o,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:r("register.experienceDetailsPlaceholder"),rows:"3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("register.description")}),e.jsx("textarea",{name:"description",value:a.description,onChange:o,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:r("register.descriptionPlaceholder"),rows:"3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("register.monthlyRate")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"monthlyRate",value:a.monthlyRate,onChange:o,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 pl-8",placeholder:r("register.monthlyRatePlaceholder")}),e.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500 text-sm",children:"frw"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r("register.monthlyRateHelp")})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:e.jsx(k,{id:"references",name:"references",type:"textarea",label:r("register.references"),placeholder:r("register.referencesPlaceholder"),value:a.references,onChange:o,error:l.references,icon:Be})})]})})})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx(te,{id:"agreeToTerms",name:"agreeToTerms",label:e.jsxs("span",{children:[r("register.agreeToTerms")," ",e.jsx(W,{to:"/terms",className:"text-blue-600 hover:underline",children:r("register.terms")})," ",r("register.and")," ",e.jsx(W,{to:"/privacy",className:"text-blue-600 hover:underline",children:r("register.privacy")})]}),checked:a.agreeToTerms,onChange:o,error:l.agreeToTerms,required:!0}),e.jsx(te,{id:"agreeToMarketing",name:"agreeToMarketing",label:r("register.agreeToMarketing"),checked:a.agreeToMarketing,onChange:o}),e.jsx(A,{type:"submit",variant:"primary",size:"lg",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-xl shadow-lg flex items-center justify-center gap-2 mt-6",disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r("register.creating")]}):e.jsxs(e.Fragment,{children:[r("register.createAccount"),e.jsx(Ae,{className:"w-5 h-5"})]})}),e.jsxs("div",{className:"text-center space-y-4 mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:r("register.alreadyHaveAccount")})})]}),e.jsx("p",{className:"text-gray-600",children:e.jsx(W,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-700 transition-colors duration-200",children:r("register.signIn")})})]})]})]})})}),e.jsx(De,{isOpen:H,onClose:()=>N(!1),title:"",maxWidth:"max-w-2xl",showCloseButton:!1,children:e.jsx(ke,{errors:ie,onClose:()=>N(!1),onScrollToField:Q})}),e.jsx(Ve,{isOpen:le,onClose:()=>P(!1),errors:ne,onScrollToField:Q}),e.jsx(Le,{})]})};export{dr as default};
