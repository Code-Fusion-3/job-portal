import{r as l,j as e,C as u,a2 as j}from"./vendor-react-TQpn0NF6.js";import{M as y}from"./Modal-COfycESI.js";import{B as f}from"./index-BTp3XDAZ.js";import{m as L}from"./vendor-motion-Qia1b_wX.js";const F=({isOpen:c,onClose:g,onSubmit:b,profileName:p="this profile",className:C="",...N})=>{const[r,d]=l.useState(""),[a,n]=l.useState({}),[i,o]=l.useState(!1),t={reason:{minLength:10,maxLength:500}},v=()=>{const s={};return r.trim()?r.trim().length<t.reason.minLength?s.reason=`Rejection reason must be at least ${t.reason.minLength} characters`:r.trim().length>t.reason.maxLength&&(s.reason=`Rejection reason must be no more than ${t.reason.maxLength} characters`):s.reason="Rejection reason is required",n(s),Object.keys(s).length===0},w=async s=>{if(s.preventDefault(),!!v()){o(!0);try{await b(r.trim()),m()}catch(R){console.error("❌ Error submitting rejection reason:",R),n({general:"Failed to submit rejection reason. Please try again."})}finally{o(!1)}}},m=()=>{d(""),n({}),o(!1),g()};l.useEffect(()=>{c||(d(""),n({}),o(!1))},[c]);const x=r.length,h=x>t.reason.maxLength;return e.jsx(y,{isOpen:c,onClose:m,title:`Reject Profile: ${p}`,maxWidth:"max-w-lg",showCloseButton:!0,...N,children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(u,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-red-800",children:[e.jsx("p",{className:"font-medium",children:"Rejecting this profile will:"}),e.jsxs("ul",{className:"mt-2 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Hide the profile from public view"}),e.jsx("li",{children:"Send a notification to the job seeker"}),e.jsx("li",{children:"Require re-approval if the profile is updated"})]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"rejectionReason",className:"block text-sm font-medium text-gray-700",children:["Rejection Reason ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"rejectionReason",value:r,onChange:s=>d(s.target.value),placeholder:"Please provide a clear reason for rejecting this profile. This will be shared with the job seeker.",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 resize-none ${a.reason?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"} ${h?"border-red-300":""}`,rows:4,maxLength:t.reason.maxLength,disabled:i}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsxs("span",{className:`${h?"text-red-600":"text-gray-500"}`,children:[x," / ",t.reason.maxLength," characters"]}),a.reason&&e.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[e.jsx(j,{className:"w-4 h-4"}),a.reason]})]})]}),a.general&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-red-800 flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4"}),a.general]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-100",children:[e.jsx(f,{type:"button",variant:"outline",onClick:m,disabled:i,className:"min-w-[100px]",children:"Cancel"}),e.jsx(f,{type:"submit",variant:"danger",disabled:i||!r.trim()||h,className:"min-w-[100px]",children:i?e.jsxs(e.Fragment,{children:[e.jsx(L.div,{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Rejecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Reject Profile"]})})]})]})})};export{F as R};
