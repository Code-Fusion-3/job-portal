import{r as d,j as e}from"./vendor-react-P9HPe7xp.js";import{a as F,u as P,L as f}from"./vendor-router-DtDQR2uf.js";import{u as E,H as M,B as k,F as L}from"./index-L80bQVm6.js";import{F as q}from"./FormInput-oBZQDjFw.js";import{P as C}from"./PasswordInput-M3f1aQTM.js";import{F as R}from"./FormCheckbox-BpjfGQgE.js";import{ae as I,aL as y,aJ as B,aM as D,aw as H,aK as T}from"./vendor-common-QxmXWwBZ.js";import{m as l}from"./vendor-motion-Dcrv-VGC.js";import"./vendor-gsap-lnFyu4_T.js";const W=()=>{const{t:i}=I(),n=F(),t=P(),{login:j}=E(),[r,w]=d.useState({email:"",password:"",rememberMe:!1}),[p,u]=d.useState(!1),[o,m]=d.useState({}),[g,h]=d.useState("");d.useEffect(()=>{t.state?.message?(h(t.state.message),n(t.pathname,{replace:!0})):t.search.includes("session=expired")&&(h("Your admin session has expired. Please log in again."),n(t.pathname,{replace:!0}))},[t.state,t.search,n]);const c=a=>{const{name:s,value:v,type:A,checked:S}=a.target;w(x=>({...x,[s]:A==="checkbox"?S:v})),o[s]&&m(x=>({...x,[s]:""}))},b=()=>{const a={};return r.email?/\S+@\S+\.\S+/.test(r.email)||(a.email=i("login.errors.emailInvalid","Please enter a valid email")):a.email=i("login.errors.emailRequired","Email is required"),r.password?r.password.length<6&&(a.password=i("login.errors.passwordLength","Password must be at least 6 characters")):a.password=i("login.errors.passwordRequired","Password is required"),m(a),Object.keys(a).length===0},N=async a=>{if(a.preventDefault(),!!b()){u(!0);try{const s=await j(r.email,r.password,"admin");s.success&&s.user?s.user.role==="admin"?n("/dashboard/admin"):s.user.role==="jobseeker"?n("/update-profile"):n("/"):m({general:s.error||i("login.errors.general","Admin login failed. Please try again.")})}catch(s){console.error("Admin login error:",s),m({general:i("login.errors.general","Admin login failed. Please try again.")})}finally{u(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:[e.jsx(M,{}),e.jsx("div",{className:"flex items-center justify-center min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(l.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"mx-auto h-16 w-16 bg-red-600 rounded-full flex items-center justify-center mb-4",children:e.jsx(y,{className:"h-8 w-8 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Admin Portal"})]}),e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"bg-white rounded-lg shadow-2xl p-8",children:[e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[g&&e.jsx(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"w-5 h-5 text-yellow-500"}),e.jsx("span",{className:"text-yellow-700 text-sm",children:g})]})}),o.general&&e.jsx(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-600 text-sm",children:o.general})}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),"Administrator Access"]})}),e.jsx(q,{type:"email",id:"email",name:"email",label:"Admin Email",value:r.email,onChange:c,placeholder:"Enter admin email",error:o.email,icon:H,required:!0}),e.jsx(C,{id:"password",name:"password",label:"Admin Password",value:r.password,onChange:c,placeholder:"Enter admin password",error:o.password,required:!0}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(R,{id:"rememberMe",name:"rememberMe",label:"Remember me",checked:r.rememberMe,onChange:c}),e.jsx(f,{to:"/admin/forgot-password",className:"text-sm text-red-600 hover:text-red-500 transition-colors duration-200",children:"Forgot password?"})]}),e.jsx(k,{type:"submit",variant:"primary",size:"lg",className:"w-full group bg-red-600 hover:bg-red-700",disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):e.jsxs(e.Fragment,{children:["Access Admin Portal",e.jsx(T,{className:"ml-2 group-hover:translate-x-1 transition-transform duration-200"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:["Need help?"," ",e.jsx(f,{to:"/contact",className:"text-red-600 hover:text-red-500 font-medium transition-colors duration-200",children:"Contact Support"})]})})]}),e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},className:"text-center",children:e.jsxs("p",{className:"text-gray-400 text-xs",children:[e.jsx(y,{className:"inline w-3 h-3 mr-1"}),"Secure admin access â€¢ All activities are logged"]})})]})}),e.jsx(L,{})]})};export{W as default};
