import{j as s,m as P,e as j,d as v,u as b,r as o}from"./vendor-react-Ciyz3SKt.js";import{H as N,B as S,F as C,a as E}from"./index-r2M3Ub8S.js";import{P as g}from"./PasswordInput-CsIeMqUb.js";const L=({title:e,subtitle:n,children:d,onSubmit:a,loading:u=!1,submitText:l="Submit",loadingText:x="Loading...",className:c="",...i})=>s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"flex min-h-screen pt-16",children:s.jsx("div",{className:"flex-1 flex items-start justify-center px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"w-full max-w-6xl",children:[s.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:e}),n&&s.jsx("p",{className:"text-gray-600",children:n})]})}),s.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-white rounded-xl shadow-sm border p-8",children:s.jsx("form",{onSubmit:a,className:"space-y-6",...i,children:d})})]})})})}),q=()=>{const{t:e}=j(),n=v(),d=b(),[a,u]=o.useState(""),[l,x]=o.useState(""),[c,i]=o.useState(!1),[h,p]=o.useState(""),[t,m]=o.useState(""),y=new URLSearchParams(d.search).get("token"),f=async r=>{if(r.preventDefault(),a!==l){m("Passwords do not match.");return}i(!0),m(""),p("");try{const w=await E.resetPassword({token:y,newPassword:a});p(w.message||e("resetPassword.success","Password has been reset successfully.")),setTimeout(()=>n("/login"),2e3)}catch(w){m(w.response?.data?.error||e("resetPassword.error","Failed to reset password."))}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen  bg-gray-50",children:[s.jsx(N,{}),s.jsxs(L,{title:e("resetPassword.title","Reset Password"),subtitle:e("resetPassword.subtitle","Enter your new password below."),onSubmit:f,children:[s.jsx(g,{id:"newPassword",name:"newPassword",label:e("resetPassword.newPassword","New Password"),placeholder:e("resetPassword.newPasswordPlaceholder","Enter new password"),value:a,onChange:r=>u(r.target.value),error:t,required:!0}),s.jsx(g,{id:"confirmPassword",name:"confirmPassword",label:"Confirm Password",type:"password",placeholder:"Confirm Password",value:l,onChange:r=>x(r.target.value),required:!0}),t&&s.jsx("div",{style:{color:"red"},children:t}),s.jsx(S,{type:"submit",variant:"primary",size:"lg",className:"w-full mt-6",disabled:c,children:c?e("resetPassword.saving","Saving..."):e("resetPassword.save","Save New Password")}),h&&s.jsx("div",{className:"mt-4 text-green-600 text-center",children:h}),t&&s.jsx("div",{className:"mt-4 text-red-600 text-center",children:t})]}),s.jsx(C,{})]})};export{q as default};
