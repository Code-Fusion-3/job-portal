import{r as t,ag as W,j as e,ae as V,aI as E,aJ as D,aK as X,aL as F,aw as B,ax as Y}from"./vendor-react-DetuyqZR.js";import{L as ee,B as u,H as se,C as re,P as le,m as H,F as ae}from"./index-DdcngoYs.js";import{u as te}from"./useJobSeekers-CwKkvF5H.js";import{u as ie}from"./useCategories-DRfipwSk.js";import{j as P}from"./jobseekerBackground-BLVGbC9a.js";import{a as oe}from"./vendor-router-CcGrsq4S.js";import{m as K}from"./vendor-motion-CjTzmV1J.js";import"./vendor-gsap-B4nt0ofr.js";import"./categoryService-DfSkoK9x.js";const ne=(r,i=500)=>{const[o,b]=t.useState(r);return t.useEffect(()=>{const c=setTimeout(()=>{b(r)},i);return()=>{clearTimeout(c)}},[r,i]),o},he=()=>{const{t:r}=W(),i={experienceLevel:[{value:"",label:r("jobSeekers.filters.allExperienceLevels","All Experience Levels")},{value:"no_experience",label:r("jobSeekers.filters.noExperience","No Experience (0 years)")},{value:"beginner",label:r("jobSeekers.filters.beginner","Beginner (1-2 years)")},{value:"intermediate",label:r("jobSeekers.filters.intermediate","Intermediate (3-5 years)")},{value:"experienced",label:r("jobSeekers.filters.experienced","Experienced (6-10 years)")},{value:"expert",label:r("jobSeekers.filters.expert","Expert (10+ years)")}],category:[{value:"",label:r("jobSeekers.filters.allCategories","All Categories")}],location:[{value:"",label:r("jobSeekers.filters.allLocations","All Locations")},{value:"kigali",label:r("jobSeekers.filters.kigali","Kigali")},{value:"butare",label:r("jobSeekers.filters.butare","Butare")},{value:"gisenyi",label:r("jobSeekers.filters.gisenyi","Gisenyi")},{value:"ruhengeri",label:r("jobSeekers.filters.ruhengeri","Ruhengeri")},{value:"kibuye",label:r("jobSeekers.filters.kibuye","Kibuye")},{value:"cyangugu",label:r("jobSeekers.filters.cyangugu","Cyangugu")},{value:"kibungo",label:r("jobSeekers.filters.kibungo","Kibungo")},{value:"rwamagana",label:r("jobSeekers.filters.rwamagana","Rwamagana")}],gender:[{value:"",label:r("jobSeekers.filters.allGenders","All Genders")},{value:"Male",label:r("jobSeekers.filters.male","Male")},{value:"Female",label:r("jobSeekers.filters.female","Female")},{value:"Other",label:r("jobSeekers.filters.other","Other")}],sortBy:[r("jobSeekers.filters.mostRecent","Most Recent"),r("jobSeekers.filters.highestRated","Highest Rated"),r("jobSeekers.filters.mostExperienced","Most Experienced"),r("jobSeekers.filters.name","Name A-Z"),r("jobSeekers.filters.lowestRate","Lowest Rate"),r("jobSeekers.filters.highestRate","Highest Rate")]},[o,b]=t.useState([]),[c,g]=t.useState([]),[m,T]=t.useState(""),[f,J]=t.useState(""),[p,R]=t.useState(""),[h,M]=t.useState(""),[j,z]=t.useState(""),[v,_]=t.useState("Most Recent"),[w,O]=t.useState("grid"),[G,U]=t.useState(!1),Z=oe(),{categories:k,loading:$,error:C}=ie();ne(m,300),t.useEffect(()=>{if(k&&k.length>0){const s=[{value:"",label:r("jobSeekers.filters.allCategories","All Categories")},...k.map(l=>({value:l.name_en.toLowerCase(),label:l.name_en}))];i.category=s}else C&&(i.category=[{value:"",label:r("jobSeekers.filters.allCategories","All Categories")}],R(""))},[k,C]);const x=()=>{let s=0;return m&&s++,f&&s++,p&&s++,h&&s++,j&&s++,s},{jobSeekers:d,loading:I,error:L}=te({autoFetch:!0,itemsPerPage:50});t.useEffect(()=>{d&&d.length>0?(b(d),g(d)):L?(b([]),g([])):(!d||d.length===0)&&(b([]),g([]))},[d,L]),t.useEffect(()=>{if(!o||o.length===0){g([]);return}let s=o.filter(l=>{if(m){const a=m.toLowerCase(),n=l.firstName||l.profile?.firstName||l.user?.firstName||"",N=l.lastName||l.profile?.lastName||l.user?.lastName||"",y=`${n} ${N}`.toLowerCase(),S=(l.skills||l.profile?.skills||l.user?.skills||"").toLowerCase(),Q=(l.location||l.profile?.location||l.city||"").toLowerCase();if(!y.includes(a)&&!S.includes(a)&&!Q.includes(a))return!1}return!(h&&(l.experienceLevel||l.profile?.experienceLevel||l.user?.experienceLevel)!==h||p&&(l.jobCategory?.name_en||l.profile?.jobCategory?.name_en||l.user?.jobCategory?.name_en||l.category)?.toLowerCase()!==p.toLowerCase()||f&&(l.location||l.profile?.location||l.city||"").toLowerCase()!==f.toLowerCase()||j&&(l.gender||l.profile?.gender||l.user?.gender)!==j)});v==="Most Recent"?s.sort((l,a)=>new Date(a.createdAt||0)-new Date(l.createdAt||0)):v==="Name A-Z"?s.sort((l,a)=>{const n=l.firstName||l.profile?.firstName||l.user?.firstName||"",N=l.lastName||l.profile?.lastName||l.user?.lastName||"",y=a.firstName||a.profile?.firstName||a.user?.firstName||"",S=a.lastName||a.profile?.lastName||a.user?.lastName||"";return(n+" "+N).localeCompare(y+" "+S)}):v==="Most Experienced"&&s.sort((l,a)=>{const n=S=>{switch(S){case"expert":return 5;case"experienced":return 4;case"intermediate":return 3;case"beginner":return 2;case"no_experience":return 1;default:return 0}},N=l.experienceLevel||l.profile?.experienceLevel||l.user?.experienceLevel,y=a.experienceLevel||a.profile?.experienceLevel||a.user?.experienceLevel;return n(y)-n(N)}),g(s)},[o,m,h,p,f,j,v]);const A=()=>{T(""),J(""),R(""),M(""),z(""),_("Most Recent")},q=s=>{Z(`/view-profile/${s.id}`)};return I?e.jsxs("div",{className:"min-h-screen relative",children:[e.jsx("div",{className:"fixed inset-0 z-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${P})`}}),e.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ee,{}),e.jsx("p",{className:"text-white/80",children:r("jobSeekers.loading.approvedSeekers","Loading approved job seekers...")})]})})]}):L?e.jsxs("div",{className:"min-h-screen relative",children:[e.jsx("div",{className:"fixed inset-0 z-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${P})`}}),e.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(V,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:"text-red-700 font-medium",children:r("jobSeekers.errors.loadingJobSeekers","Error Loading Job Seekers")})]}),e.jsx("p",{className:"text-red-600 mb-4",children:L}),e.jsx(u,{onClick:()=>window.location.reload(),variant:"outline",children:r("jobSeekers.errors.tryAgain","Try Again")})]})})})]}):e.jsxs("div",{className:"min-h-screen relative",children:[e.jsx("div",{className:"fixed inset-0 z-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${P})`}}),e.jsx(se,{}),e.jsx("div",{className:"relative z-10 mt-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:r("jobSeekers.pageTitle","All Job Seekers")}),e.jsx("p",{className:"text-xl text-white/70 max-w-3xl mx-auto",children:r("jobSeekers.pageSubtitle","Discover reliable workers for domestic, care, maintenance, and other essential services")})]})})}),e.jsxs("main",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-6 mb-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:r("jobSeekers.searchPlaceholder","Search by name, title, or skills..."),value:m,onChange:s=>T(s.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors duration-200 text-gray-900 placeholder-gray-500"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{variant:"outline",onClick:()=>U(!G),className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4"}),r("jobSeekers.filters.filters","Filters")," ",x()>0&&`(${x()})`]}),e.jsxs(u,{variant:"outline",onClick:()=>O(w==="grid"?"list":"grid"),className:"flex items-center gap-2",children:[w==="grid"?e.jsx(X,{className:"w-4 h-4"}):e.jsx(F,{className:"w-4 h-4"}),w==="grid"?r("jobSeekers.filters.list","List"):r("jobSeekers.filters.grid","Grid")]}),x()>0&&e.jsxs(u,{variant:"outline",onClick:A,className:"flex items-center gap-2 text-red-600 hover:text-red-700",children:[e.jsx(B,{className:"w-4 h-4"}),r("jobSeekers.filters.clearAll","Clear All")]})]})]}),G&&e.jsx("div",{className:"border-t pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("jobSeekers.filters.experienceLevel","Experience Level")}),e.jsx("select",{value:h,onChange:s=>M(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900",children:i.experienceLevel.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("jobSeekers.filters.category","Category")}),e.jsx("select",{value:p,onChange:s=>R(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900",disabled:$,children:$?e.jsx("option",{children:r("jobSeekers.loading.categories","Loading categories...")}):C?e.jsx("option",{children:r("jobSeekers.errors.categoriesLoad","Error loading categories")}):i.category.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("jobSeekers.filters.location","Location")}),e.jsx("select",{value:f,onChange:s=>J(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900",children:i.location.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("jobSeekers.filters.gender","Gender")}),e.jsx("select",{value:j,onChange:s=>z(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900",children:i.gender.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("jobSeekers.filters.sortBy","Sort By")}),e.jsx("select",{value:v,onChange:s=>_(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900",children:i.sortBy.map(s=>e.jsx("option",{value:s,children:s},s))})]})]})})]}),C&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:"text-red-700 font-medium",children:r("jobSeekers.errors.categoriesLoad","Unable to load job categories")})]}),e.jsx("p",{className:"text-red-600 text-sm mt-1",children:r("jobSeekers.errors.categoriesUnavailable","There was an error loading job categories. Category filtering is temporarily unavailable.")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:e.jsx(F,{className:"w-6 h-6 text-blue-600"})}),e.jsx("p",{className:"text-sm font-medium text-gray-600",children:r("jobSeekers.stats.totalJobSeekers","Total Job Seekers")}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.length})]}),e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:e.jsx(E,{className:"w-6 h-6 text-green-600"})}),e.jsx("p",{className:"text-sm font-medium text-gray-600",children:r("jobSeekers.stats.searchResults","Search Results")}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.length})]}),e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:e.jsx(D,{className:"w-6 h-6 text-purple-600"})}),e.jsx("p",{className:"text-sm font-medium text-gray-600",children:r("jobSeekers.stats.activeFilters","Active Filters")}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x()})]})]}),c.length===0&&x()>0&&e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-8 mb-8 text-center",children:[e.jsx(E,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:r("jobSeekers.noResults.noResultsFound","No results found")}),e.jsx("p",{className:"text-gray-600 mb-4",children:r("jobSeekers.noResults.adjustCriteria","Try adjusting your search criteria or filters to find more job seekers.")}),e.jsx(u,{onClick:A,variant:"outline",children:r("jobSeekers.noResults.clearFilters","Clear All Filters")})]}),c.length===0&&x()===0&&o.length===0&&!I&&e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-8 mb-8 text-center",children:[e.jsx(F,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:r("jobSeekers.noResults.noApprovedSeekers","No approved job seekers available")}),e.jsx("p",{className:"text-gray-600 mb-4",children:r("jobSeekers.noResults.noProfilesAvailable","There are currently no approved job seeker profiles available for public viewing. New registrations are being reviewed by our team.")}),e.jsx("div",{className:"text-sm text-blue-600 bg-blue-50 rounded-lg p-3 mt-4 max-w-md mx-auto",children:r("jobSeekers.noResults.profilesReviewed","💡 Job seeker profiles are reviewed and approved to ensure quality and authenticity.")})]}),c.length>0?e.jsx("div",{className:w==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6",children:c.map((s,l)=>e.jsx("div",{children:e.jsx(re,{className:"h-[380px] bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-gray-200 overflow-hidden group",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"p-6 pb-4",children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-4",children:e.jsx(le,{size:"lg",variant:"rounded",showBorder:!0,borderColor:"border-blue-200",showShadow:!0})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-1 group-hover:text-blue-600 transition-colors",children:[H(s.firstName||s.profile?.firstName||s.user?.firstName||r("jobSeekers.card.unknown","Unknown"))," ",H(s.lastName||s.profile?.lastName||s.user?.lastName||"")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 text-xs font-semibold rounded-full",children:s.jobCategory?.name_en||s.profile?.jobCategory?.name_en||s.user?.jobCategory?.name_en||s.category||r("jobSeekers.card.noCategory","No Category")}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})]})]}),e.jsxs("button",{onClick:()=>q(s),className:"px-3 py-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 flex items-center gap-2 text-sm font-medium",children:[e.jsx(B,{className:"w-4 h-4"}),r("jobSeekers.actions.viewProfile","View Profile")]})]})}),e.jsxs("div",{className:"px-6 flex-1 space-y-4",children:[(s.location||s.profile?.location||s.city)&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600 bg-gray-50 px-3 py-2 rounded-lg",children:[e.jsx(Y,{className:"w-4 h-4 mr-2 text-blue-500"}),e.jsxs("span",{className:"font-medium",children:[s.location||s.profile?.location||s.city,s.city&&s.city!==(s.location||s.profile?.location)&&`, ${s.city}`]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-3 rounded-lg border border-blue-100",children:[e.jsxs("span",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide mb-1 block",children:[r("jobSeekers.card.experienceLevel","Experience Level")," *"]}),e.jsx("p",{className:"text-sm text-gray-700 font-medium",children:s.experienceLevel||s.profile?.experienceLevel||s.user?.experienceLevel||r("jobSeekers.card.notSpecified","Not specified")})]}),(s.skills||s.profile?.skills||s.user?.skills)&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:r("jobSeekers.card.skills","Skills")}),e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[(s.skills||s.profile?.skills||s.user?.skills||"").split(",").slice(0,4).map((a,n)=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-md",children:a.trim()},n)),(s.skills||s.profile?.skills||s.user?.skills||"").split(",").length>4&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-md",children:["+",(s.skills||s.profile?.skills||s.user?.skills||"").split(",").length-4," ",r("jobSeekers.card.more","more")]})]})]})]})]})})},s.id))}):e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(E,{className:"w-8 h-8 text-white/60"})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:r("jobSeekers.noResults.title","No job seekers found")}),e.jsx("p",{className:"text-white/70 mb-4",children:r("jobSeekers.noResults.message","Try adjusting your search criteria or filters")}),e.jsxs(u,{variant:"outline",onClick:A,className:"flex items-center gap-2 mx-auto",children:[e.jsx(B,{className:"w-4 h-4"}),r("jobSeekers.noResults.clearFilters","Clear All Filters")]})]})})]}),e.jsx("div",{className:"relative z-10",children:e.jsx(ae,{})})]})};export{he as default};
