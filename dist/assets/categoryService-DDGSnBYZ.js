import{d as o,h as c,g as n}from"./index-BX8mTCKY.js";const g={getAllCategories:async()=>{try{return{success:!0,data:(await o.get("/categories")).data}}catch(e){return e.response?.data?.error?{success:!1,error:e.response.data.error}:{success:!1,error:c(e,{context:"get_all_categories"}).userMessage}}},getAllCategoriesAdmin:async(e={})=>{try{const r=await o.get("/categories/admin/all",{headers:n()});return{success:!0,data:r.data.categories,total:r.data.total}}catch(r){return r.response?.data?.error?{success:!1,error:r.response.data.error}:{success:!1,error:c(r,{context:"get_all_categories_admin"}).userMessage}}},getCategoryById:async e=>{try{return{success:!0,data:(await o.get(`/categories/${e}`,{headers:n()})).data}}catch(r){return r.response?.data?.error?{success:!1,error:r.response.data.error}:{success:!1,error:c(r,{context:"get_category_by_id"}).userMessage}}},createCategory:async e=>{try{const r=await o.post("/categories",e,{headers:n()});return{success:!0,data:r.data.category,message:r.data.message}}catch(r){if(r.response?.data){const{data:s}=r.response;if(s.details&&Array.isArray(s.details))return{success:!1,error:s.details.map(i=>`${i.field}: ${i.message}`).join(", ")};if(s.error)return{success:!1,error:s.error};if(s.message)return{success:!1,error:s.message}}return{success:!1,error:c(r,{context:"create_category"}).userMessage}}},updateCategory:async(e,r)=>{try{const a=await o.put(`/categories/${e}`,r,{headers:n()});return{success:!0,data:a.data.category,message:a.data.message}}catch(a){if(a.response?.data){const{data:t}=a.response;if(t.details&&Array.isArray(t.details))return{success:!1,error:t.details.map(u=>`${u.field}: ${u.message}`).join(", ")};if(t.error)return{success:!1,error:t.error};if(t.message)return{success:!1,error:t.message}}return{success:!1,error:c(a,{context:"update_category"}).userMessage}}},deleteCategory:async e=>{try{return{success:!0,message:(await o.delete(`/categories/${e}`,{headers:n()})).data.message}}catch(r){if(r.response?.data){const{data:s}=r.response;if(s.error&&s.error.includes("Cannot delete"))return{success:!1,error:s.error,profilesCount:s.profilesCount};if(s.error)return{success:!1,error:s.error};if(s.message)return{success:!1,error:s.message}}return{success:!1,error:c(r,{context:"delete_category"}).userMessage}}},getCategoryStatistics:async()=>{try{const e=await o.get("/admin/dashboard/stats",{headers:n()});return{success:!0,data:e.data.categories||e.data.distributions?.categories||[]}}catch(e){return e.response?.data?.error?{success:!1,error:e.response.data.error}:{success:!1,error:c(e,{context:"get_category_statistics"}).userMessage}}},getAvailableFilters:async()=>{try{return{success:!0,data:(await o.get("/public/filters")).data.categories||[]}}catch(e){return e.response?.data?.error?{success:!1,error:e.response.data.error}:{success:!1,error:c(e,{context:"get_available_filters"}).userMessage}}}};export{g as c};
