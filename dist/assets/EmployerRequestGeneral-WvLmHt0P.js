import{c as v,b as w,r as n,j as e,a as S,L as d,y as x,z as k,h as q,P as C,Y as R,_ as E}from"./vendor-react-BrVnDVka.js";import{H as h,F as b,B as F,c as P}from"./index-B0JOCH5G.js";import{E as L}from"./endpoints-CXiMw_A_.js";import{m as i}from"./vendor-motion-DiEA6HXZ.js";import"./vendor-common-BZD0eUgH.js";import"./vendor-gsap-lnFyu4_T.js";const Y=()=>{const{t}=v();w();const[r,p]=n.useState({name:"",email:"",phoneNumber:"",companyName:"",message:"",priority:"normal"}),[m,u]=n.useState(!1),[g,y]=n.useState(!1),[c,a]=n.useState(""),l=o=>{const{name:s,value:j}=o.target;p(N=>({...N,[s]:j})),c&&a("")},f=async o=>{o.preventDefault(),u(!0),a("");try{const s=await P.post(L.EMPLOYER.SUBMIT_REQUEST,r);console.log("Request submission response:",s),s&&s.data?(y(!0),s.data.loginCredentials&&localStorage.setItem("tempCredentials",JSON.stringify({email:s.data.loginCredentials.email,password:s.data.loginCredentials.password}))):a("Failed to submit request. Please try again.")}catch(s){console.error("Request submission error:",s),s.response&&s.response.data&&s.response.data.error?a(s.response.data.error):s.message?a(s.message):a("Network error. Please check your connection and try again.")}finally{u(!1)}};return g?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx(h,{}),e.jsx("div",{className:"flex items-center justify-center min-h-[60vh] px-4",children:e.jsxs(i.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(S,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:t("employerRequest.success.title","Request Sent!")}),e.jsx("p",{className:"text-gray-600 mb-6",children:t("employerRequest.success.message","Thank you for your interest. We'll contact you soon to discuss next steps.")}),(()=>{const o=localStorage.getItem("tempCredentials");if(o){const s=JSON.parse(o);return localStorage.removeItem("tempCredentials"),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"üîê Your Login Credentials"}),e.jsxs("div",{className:"bg-white p-3 rounded border border-green-300 text-left",children:[e.jsxs("p",{className:"text-sm text-green-700 mb-2",children:[e.jsx("strong",{children:"Email:"})," ",s.email]}),e.jsxs("p",{className:"text-sm text-green-700 mb-2",children:[e.jsx("strong",{children:"Password:"})," ",s.password]})]}),e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"Please save these credentials. You can use them to login to your employer dashboard."})]})}return null})(),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 text-left",children:[e.jsx("h3",{className:"text-base font-semibold text-blue-900 mb-2",children:t("employerRequest.success.whatHappensNext","What happens next?")}),e.jsxs("ul",{className:"list-disc pl-5 text-blue-800 text-sm mb-2",children:[e.jsx("li",{children:t("employerRequest.success.emailConfirmation","You'll receive an email confirmation")}),e.jsx("li",{children:t("employerRequest.success.contactNextSteps","We'll contact you to discuss next steps")})]}),e.jsx("div",{className:"text-blue-800 text-sm",children:t("employerRequest.fullDetail.content","Sir, Madam, we have gladly received the service you need from us. Before you are given full information about this worker or service, you must first pay a non-refundable fee of 5,000 Frw. After that, you will be given further details, and then you can pay the remaining amount as agreed. Finally, we will connect you with the person you needed.")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(d,{to:"/employer/login",className:"block w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Login to Dashboard"}),e.jsx(d,{to:"/",className:"block w-full py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Return to Home"})]})]})}),e.jsx(b,{})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx(h,{}),e.jsx("div",{className:"flex items-center justify-center min-h-[60vh] p-4",children:e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(i.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(x,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Submit Employer Request"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Tell us about your staffing needs and we'll help you find the right workers for your business"})]}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(k,{className:"inline w-4 h-4 mr-2"}),"Full Name *"]}),e.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:l,required:!0,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(q,{className:"inline w-4 h-4 mr-2"}),"Email Address *"]}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:l,required:!0,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(C,{className:"inline w-4 h-4 mr-2"}),"Phone Number"]}),e.jsx("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:r.phoneNumber,onChange:l,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your phone number"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(x,{className:"inline w-4 h-4 mr-2"}),"Company Name"]}),e.jsx("input",{type:"text",id:"companyName",name:"companyName",value:r.companyName,onChange:l,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your company name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-2",children:"Request Priority"}),e.jsxs("select",{id:"priority",name:"priority",value:r.priority,onChange:l,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"low",children:"Low Priority"}),e.jsx("option",{value:"normal",children:"Normal Priority"}),e.jsx("option",{value:"high",children:"High Priority"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(R,{className:"inline w-4 h-4 mr-2"}),"Request Details *"]}),e.jsx("textarea",{id:"message",name:"message",value:r.message,onChange:l,required:!0,rows:6,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none",placeholder:"Describe your staffing needs, required skills, experience level, location, and any other relevant details..."})]}),c&&e.jsx(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-red-600",children:c})}),e.jsx(F,{type:"submit",disabled:m,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-lg transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:m?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Submitting Request..."]}):e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(E,{className:"w-5 h-5 mr-2"}),"Submit Request"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an employer account?"," ",e.jsx(d,{to:"/employer/login",className:"text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"Login here"})]})})]})]})}),e.jsx(b,{})]})};export{Y as default};
