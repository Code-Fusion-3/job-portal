import{c as V,r as a,j as e,C as I,U as L,S as C,X as q,e as R,q as B,s as Z,L as X,f as Q}from"./vendor-react-BkwhrffK.js";import{u as W}from"./useCategories-BN-ek4Pq.js";import{u as Y}from"./useJobSeekers-88q-76xk.js";import{L as ee,B as f,H as se,C as re,P as le,m as O,F as te}from"./index-CfgR3oxw.js";import{j as P}from"./jobseekerBackground-BLVGbC9a.js";import"./vendor-common-BZD0eUgH.js";import"./categoryService-CEw5WWTP.js";import"./vendor-motion-CuEGWhdi.js";import"./vendor-gsap-lnFyu4_T.js";const ue=()=>{const{t:r}=V(),[i,F]=a.useState([]),[u,E]=a.useState(""),[c,T]=a.useState(""),[o,A]=a.useState(""),[d,G]=a.useState(""),[x,_]=a.useState(""),[m,z]=a.useState("Most Recent"),[y,U]=a.useState("grid"),[w,D]=a.useState(!0),{categories:J,loading:$,error:S}=W(),g=a.useMemo(()=>({experienceLevel:[{value:"",label:r("jobSeekers.filters.allExperienceLevels","All Experience Levels")},{value:"no_experience",label:r("jobSeekers.filters.noExperience","No Experience (0 years)")},{value:"beginner",label:r("jobSeekers.filters.beginner","Beginner (1-2 years)")},{value:"intermediate",label:r("jobSeekers.filters.intermediate","Intermediate (3-5 years)")},{value:"experienced",label:r("jobSeekers.filters.experienced","Experienced (6-10 years)")},{value:"expert",label:r("jobSeekers.filters.expert","Expert (10+ years)")}],category:[{value:"",label:r("jobSeekers.filters.allCategories","All Categories")},...(J||[]).map(l=>({value:l.name_en.toLowerCase(),label:l.name_en}))],location:[{value:"",label:r("jobSeekers.filters.allLocations","All Locations")},{value:"kigali",label:r("jobSeekers.filters.kigali","Kigali")},{value:"butare",label:r("jobSeekers.filters.butare","Butare")},{value:"gisenyi",label:r("jobSeekers.filters.gisenyi","Gisenyi")},{value:"ruhengeri",label:r("jobSeekers.filters.ruhengeri","Ruhengeri")},{value:"kibuye",label:r("jobSeekers.filters.kibuye","Kibuye")},{value:"cyangugu",label:r("jobSeekers.filters.cyangugu","Cyangugu")},{value:"kibungo",label:r("jobSeekers.filters.kibungo","Kibungo")},{value:"rwamagana",label:r("jobSeekers.filters.rwamagana","Rwamagana")}],gender:[{value:"",label:r("jobSeekers.filters.allGenders","All Genders")},{value:"Male",label:r("jobSeekers.filters.male","Male")},{value:"Female",label:r("jobSeekers.filters.female","Female")},{value:"Other",label:r("jobSeekers.filters.other","Other")}],sortBy:[r("jobSeekers.filters.mostRecent","Most Recent"),r("jobSeekers.filters.highestRated","Highest Rated"),r("jobSeekers.filters.mostExperienced","Most Experienced"),r("jobSeekers.filters.name","Name A-Z"),r("jobSeekers.filters.lowestRate","Lowest Rate"),r("jobSeekers.filters.highestRate","Highest Rate")]}),[J,r]);a.useEffect(()=>{S&&o&&A("")},[S,o]);const n=()=>{let s=0;return u&&s++,c&&s++,o&&s++,d&&s++,x&&s++,s},{jobSeekers:p,loading:H,error:k}=Y({autoFetch:!0,itemsPerPage:50});a.useEffect(()=>{p&&p.length>0?F(p):k?F([]):(!p||p.length===0)&&F([])},[p,k]);const b=a.useMemo(()=>{if(!i||i.length===0)return[];let s=i.filter(l=>{if(u){const t=u.toLowerCase(),h=l.firstName||l.profile?.firstName||l.user?.firstName||"",j=l.lastName||l.profile?.lastName||l.user?.lastName||"",v=`${h} ${j}`.toLowerCase(),N=(l.skills||l.profile?.skills||l.user?.skills||"").toLowerCase(),K=(l.location||l.profile?.location||l.city||"").toLowerCase();if(!v.includes(t)&&!N.includes(t)&&!K.includes(t))return!1}return!(d&&(l.experienceLevel||l.profile?.experienceLevel||l.user?.experienceLevel)!==d||o&&(l.jobCategory?.name_en||l.profile?.jobCategory?.name_en||l.user?.jobCategory?.name_en||l.category)?.toLowerCase()!==o.toLowerCase()||c&&(l.location||l.profile?.location||l.city||"").toLowerCase()!==c.toLowerCase()||x&&(l.gender||l.profile?.gender||l.user?.gender)!==x)});return m==="Most Recent"?s.sort((l,t)=>new Date(t.createdAt||0)-new Date(l.createdAt||0)):m==="Name A-Z"?s.sort((l,t)=>{const h=l.firstName||l.profile?.firstName||l.user?.firstName||"",j=l.lastName||l.profile?.lastName||l.user?.lastName||"",v=t.firstName||t.profile?.firstName||t.user?.firstName||"",N=t.lastName||t.profile?.lastName||t.user?.lastName||"";return(h+" "+j).localeCompare(v+" "+N)}):m==="Most Experienced"&&s.sort((l,t)=>{const h=N=>{switch(N){case"expert":return 5;case"experienced":return 4;case"intermediate":return 3;case"beginner":return 2;case"no_experience":return 1;default:return 0}},j=l.experienceLevel||l.profile?.experienceLevel||l.user?.experienceLevel,v=t.experienceLevel||t.profile?.experienceLevel||t.user?.experienceLevel;return h(v)-h(j)}),s},[i,u,d,o,c,x,m]),M=()=>{E(""),T(""),A(""),G(""),_(""),z("Most Recent")};return H?e.jsxs("div",{className:"min-h-screen relative",children:[e.jsx("div",{className:"fixed inset-0 z-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${P})`}}),e.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ee,{}),e.jsx("p",{className:"text-white/80",children:r("jobSeekers.loading.approvedSeekers","Loading approved job seekers...")})]})})]}):k?e.jsxs("div",{className:"min-h-screen relative",children:[e.jsx("div",{className:"fixed inset-0 z-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${P})`}}),e.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(I,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:"text-red-700 font-medium",children:r("jobSeekers.errors.loadingJobSeekers","Error Loading Job Seekers")})]}),e.jsx("p",{className:"text-red-600 mb-4",children:k}),e.jsx(f,{onClick:()=>window.location.reload(),variant:"outline",children:r("jobSeekers.errors.tryAgain","Try Again")})]})})})]}):e.jsxs("div",{className:"min-h-screen relative",children:[e.jsx("div",{className:"fixed inset-0 z-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${P})`}}),e.jsx(se,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4 text-reveal",children:r("jobSeekers.pageTitle","All Job Seekers")}),e.jsx("p",{className:"text-xl text-white/70 max-w-3xl mx-auto mb-6 text-reveal",children:r("jobSeekers.pageSubtitle","Discover reliable workers for domestic, care, maintenance, and other essential services")}),e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm rounded-full px-6 py-3 border border-white/30",children:[e.jsx(L,{className:"w-5 h-5 text-white"}),e.jsxs("span",{className:"text-white font-semibold",children:[r("jobSeekers.totalCount","Total Job Seekers"),": ",e.jsx("span",{className:"text-2xl",children:i.length})]})]})]})}),e.jsxs("main",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-6 mb-8 text-reveal",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:r("jobSeekers.searchPlaceholder","Search by name, skills, location, or category..."),value:u,onChange:s=>E(s.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors duration-200 text-gray-900 placeholder-gray-500 bg-white"}),u&&e.jsx("button",{onClick:()=>E(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(q,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(f,{variant:"outline",onClick:()=>D(!w),className:"flex items-center gap-2",children:[w?e.jsx(R,{className:"w-4 h-4"}):e.jsx(B,{className:"w-4 h-4"}),w?r("jobSeekers.filters.hideFilters","Hide Filters"):r("jobSeekers.filters.showFilters","Show Filters")," ",n()>0&&`(${n()})`]}),e.jsxs(f,{variant:"outline",onClick:()=>U(y==="grid"?"list":"grid"),className:"flex items-center gap-2",children:[y==="grid"?e.jsx(Z,{className:"w-4 h-4"}):e.jsx(L,{className:"w-4 h-4"}),y==="grid"?r("jobSeekers.filters.list","List"):r("jobSeekers.filters.grid","Grid")]}),n()>0&&e.jsxs(f,{variant:"outline",onClick:M,className:"flex items-center gap-2 text-red-600 hover:text-red-700",children:[e.jsx(R,{className:"w-4 h-4"}),r("jobSeekers.filters.clearAll","Clear All")]})]})]}),b.length>0&&e.jsx("div",{className:"mt-4 text-center text-reveal",children:e.jsxs("div",{className:"inline-flex items-center gap-4 bg-white/95 backdrop-blur-sm rounded-lg px-6 py-3 border border-white/20 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-sm text-gray-700",children:[r("jobSeekers.results.showingResults","Showing")," ",e.jsx("span",{className:"font-bold text-gray-900",children:b.length})," ",r("jobSeekers.results.of","of")," ",e.jsx("span",{className:"font-bold text-gray-900",children:i.length})," ",r("jobSeekers.results.jobSeekers","job seekers")]})]}),n()>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm text-blue-700 font-medium",children:[n()," ",r("jobSeekers.results.activeFilters","active filters")]})]})]})}),b.length===0&&i.length>0&&e.jsx("div",{className:"mt-4 text-center text-reveal",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/95 backdrop-blur-sm rounded-lg px-6 py-3 border border-white/20 shadow-sm",children:[e.jsx(L,{className:"w-4 h-4 text-gray-600"}),e.jsxs("span",{className:"text-sm text-gray-700",children:[r("jobSeekers.results.totalAvailable","Total available"),": ",e.jsx("span",{className:"font-bold text-gray-900",children:i.length})," ",r("jobSeekers.results.jobSeekers","job seekers")]})]})}),w&&e.jsxs("div",{className:"border-t pt-6 text-reveal",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:r("jobSeekers.filters.advancedFilters","Advanced Filters")}),e.jsx("p",{className:"text-sm text-gray-600",children:r("jobSeekers.filters.description","Refine your search to find the perfect job seeker")}),n()>0&&e.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(B,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[r("jobSeekers.filters.activeFilters","Active Filters"),": ",n()]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[d&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:["Experience: ",g.experienceLevel.find(s=>s.value===d)?.label]}),o&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:["Category: ",o]}),c&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:["Location: ",c]}),x&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:["Gender: ",x]}),m!=="Most Recent"&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:["Sort: ",m]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("jobSeekers.filters.experienceLevel","Experience Level")}),e.jsx("select",{value:d,onChange:s=>G(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900 bg-white",children:g.experienceLevel.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("jobSeekers.filters.category","Category")}),e.jsx("select",{value:o,onChange:s=>A(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900 bg-white",disabled:$,children:$?e.jsx("option",{children:r("jobSeekers.loading.categories","Loading categories...")}):S?e.jsx("option",{children:r("jobSeekers.errors.categoriesLoad","Error loading categories")}):g.category.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("jobSeekers.filters.location","Location")}),e.jsx("select",{value:c,onChange:s=>T(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900 bg-white",children:g.location.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("jobSeekers.filters.gender","Gender")}),e.jsx("select",{value:x,onChange:s=>_(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900 bg-white",children:g.gender.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("jobSeekers.filters.sortBy","Sort By")}),e.jsx("select",{value:m,onChange:s=>z(s.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900 bg-white",children:g.sortBy.map(s=>e.jsx("option",{value:s,children:s},s))})]})]})]}),S&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:"text-red-700 font-medium",children:r("jobSeekers.errors.categoriesLoad","Unable to load job categories")})]}),e.jsx("p",{className:"text-red-600 text-sm mt-1",children:r("jobSeekers.errors.categoriesUnavailable","There was an error loading job categories. Category filtering is temporarily unavailable.")})]}),b.length===0&&n()>0&&e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-8 mb-8 text-center text-reveal",children:[e.jsx(C,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:r("jobSeekers.noResults.noResultsFound","No results found")}),e.jsx("p",{className:"text-gray-600 mb-4",children:r("jobSeekers.noResults.adjustCriteria","Try adjusting your search criteria or filters to find more job seekers.")}),e.jsx(f,{onClick:M,variant:"outline",children:r("jobSeekers.noResults.clearFilters","Clear All Filters")})]}),b.length===0&&n()===0&&i.length===0&&!H&&e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-8 mb-8 text-center text-reveal",children:[e.jsx(L,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:r("jobSeekers.noResults.noApprovedSeekers","No approved job seekers available")}),e.jsx("p",{className:"text-gray-600 mb-4",children:r("jobSeekers.noResults.noProfilesAvailable","There are currently no approved job seeker profiles available for public viewing. New registrations are being reviewed by our team.")}),e.jsx("div",{className:"text-sm text-blue-600 bg-blue-50 rounded-lg p-3 mt-4 max-w-md mx-auto",children:r("jobSeekers.noResults.profilesReviewed","💡 Job seeker profiles are reviewed and approved to ensure quality and authenticity.")})]}),b.length>0?e.jsx("div",{className:y==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 text-reveal":"space-y-6 text-reveal",children:b.map(s=>e.jsx("div",{children:e.jsx(re,{className:"h-[380px] bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-gray-200 overflow-hidden group",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"p-6 pb-4",children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-4",children:e.jsx(le,{size:"lg",variant:"rounded",showBorder:!0,borderColor:"border-blue-200",showShadow:!0})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-1 group-hover:text-blue-600 transition-colors",children:[O(s.firstName||s.profile?.firstName||s.user?.firstName||r("jobSeekers.card.unknown","Unknown"))," ",O(s.lastName||s.profile?.lastName||s.user?.lastName||"")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 text-xs font-semibold rounded-full",children:s.jobCategory?.name_en||s.profile?.jobCategory?.name_en||s.user?.jobCategory?.name_en||s.category||r("jobSeekers.card.noCategory","No Category")}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})]})]}),e.jsxs(X,{to:`/view-profile/${s.id}`,className:"px-3 py-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 flex items-center gap-2 text-sm font-medium",children:[e.jsx(R,{className:"w-4 h-4"}),r("jobSeekers.actions.viewProfile","View Profile")]})]})}),e.jsxs("div",{className:"px-6 flex-1 space-y-4",children:[(s.location||s.profile?.location||s.city)&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600 bg-gray-50 px-3 py-2 rounded-lg",children:[e.jsx(Q,{className:"w-4 h-4 mr-2 text-blue-500"}),e.jsxs("span",{className:"font-medium",children:[s.location||s.profile?.location||s.city,s.city&&s.city!==(s.location||s.profile?.location)&&`, ${s.city}`]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-3 rounded-lg border border-blue-100",children:[e.jsxs("span",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide mb-1 block",children:[r("jobSeekers.card.experienceLevel","Experience Level")," *"]}),e.jsx("p",{className:"text-sm text-gray-700 font-medium",children:s.experienceLevel||s.profile?.experienceLevel||s.user?.experienceLevel||r("jobSeekers.card.notSpecified","Not specified")})]}),(s.skills||s.profile?.skills||s.user?.skills)&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:r("jobSeekers.card.skills","Skills")}),e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[(s.skills||s.profile?.skills||s.user?.skills||"").split(",").slice(0,4).map((l,t)=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-md",children:l.trim()},t)),(s.skills||s.profile?.skills||s.user?.skills||"").split(",").length>4&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-md",children:["+",(s.skills||s.profile?.skills||s.user?.skills||"").split(",").length-4," ",r("jobSeekers.card.more","more")]})]})]})]})]})})},s.id))}):e.jsx("div",{className:"text-center py-12 text-reveal",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(C,{className:"w-8 h-8 text-white/60"})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:r("jobSeekers.noResults.title","No job seekers found")}),e.jsx("p",{className:"text-white/70 mb-4",children:r("jobSeekers.noResults.message","Try adjusting your search criteria or filters")}),e.jsxs(f,{variant:"outline",onClick:M,className:"flex items-center gap-2 mx-auto",children:[e.jsx(R,{className:"w-4 h-4"}),r("jobSeekers.noResults.clearFilters","Clear All Filters")]})]})})]}),e.jsx("div",{className:"relative z-10",children:e.jsx(te,{})})]})};export{ue as default};
