import{j as s,r as o}from"./vendor-react-P9HPe7xp.js";import{H as j,B as v,F as b,a as N}from"./index-L80bQVm6.js";import{P}from"./PasswordInput-M3f1aQTM.js";import{m as f}from"./vendor-motion-Dcrv-VGC.js";import{ae as S}from"./vendor-common-QxmXWwBZ.js";import{a as C,u as E}from"./vendor-router-DtDQR2uf.js";import"./vendor-gsap-lnFyu4_T.js";const L=({title:e,subtitle:n,children:d,onSubmit:a,loading:u=!1,submitText:l="Submit",loadingText:x="Loading...",className:c="",...i})=>s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"flex min-h-screen pt-16",children:s.jsx("div",{className:"flex-1 flex items-start justify-center px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"w-full max-w-6xl",children:[s.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:e}),n&&s.jsx("p",{className:"text-gray-600",children:n})]})}),s.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-white rounded-xl shadow-sm border p-8",children:s.jsx("form",{onSubmit:a,className:"space-y-6",...i,children:d})})]})})})}),A=()=>{const{t:e}=S(),n=C(),d=E(),[a,u]=o.useState(""),[l,x]=o.useState(""),[c,i]=o.useState(!1),[p,h]=o.useState(""),[r,m]=o.useState(""),g=new URLSearchParams(d.search).get("token"),y=async t=>{if(t.preventDefault(),a!==l){m("Passwords do not match.");return}i(!0),m(""),h("");try{const w=await N.resetPassword({token:g,newPassword:a});h(w.message||e("resetPassword.success","Password has been reset successfully.")),setTimeout(()=>n("/login"),2e3)}catch(w){m(w.response?.data?.error||e("resetPassword.error","Failed to reset password."))}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen  bg-gray-50",children:[s.jsx(j,{}),s.jsxs(L,{title:e("resetPassword.title","Reset Password"),subtitle:e("resetPassword.subtitle","Enter your new password below."),onSubmit:y,children:[s.jsx(P,{id:"newPassword",name:"newPassword",label:e("resetPassword.newPassword","New Password"),placeholder:e("resetPassword.newPasswordPlaceholder","Enter new password"),value:a,onChange:t=>u(t.target.value),error:r,required:!0}),s.jsx(P,{id:"confirmPassword",name:"confirmPassword",label:"Confirm Password",type:"password",placeholder:"Confirm Password",value:l,onChange:t=>x(t.target.value),required:!0}),r&&s.jsx("div",{style:{color:"red"},children:r}),s.jsx(v,{type:"submit",variant:"primary",size:"lg",className:"w-full mt-6",disabled:c,children:c?e("resetPassword.saving","Saving..."):e("resetPassword.save","Save New Password")}),p&&s.jsx("div",{className:"mt-4 text-green-600 text-center",children:p}),r&&s.jsx("div",{className:"mt-4 text-red-600 text-center",children:r})]}),s.jsx(b,{})]})};export{A as default};
