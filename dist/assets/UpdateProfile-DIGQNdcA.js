import{c as ve,b as ye,r as o,j as e,a as G,C as J,_ as je,x as V,aJ as Ne,X,ao as we}from"./vendor-react-DCVpIq7q.js";import{u as Ce,L as Z,B as k,C as P}from"./index-Dyq8-W0m.js";import{c as Se}from"./categoryService-b-JV_uxI.js";import{B as Q}from"./Badge-CBal7hbk.js";import{F as c}from"./FormInput-BLeNZ3m4.js";import{m as F}from"./vendor-motion-BnaYlrdq.js";import"./vendor-common-BZD0eUgH.js";import"./vendor-gsap-lnFyu4_T.js";const Le=["House Cleaning","Laundry","Ironing","Cooking","Meal Preparation","Kitchen Management","Childcare","Elderly Care","Pet Care","First Aid","Safety","Educational Activities","Gardening","Landscaping","Plant Care","Basic Repairs","Plumbing","Electrical","Carpentry","Painting","Security Monitoring","Access Control","Patrol","Safe Driving","Vehicle Maintenance","Route Planning","GPS Navigation","Defensive Driving","Passenger Safety","Food Service","Table Setting","Order Taking","Cash Handling","Customer Service","Bartending","Food Delivery","Sales","Inventory Management","Negotiation","Product Knowledge","Market Knowledge","Kinyarwanda","English","French","Swahili","Basic Communication","Translation"],ke=["Kinyarwanda","English","French","Swahili","Luganda","Kirundi","Lingala","German","Spanish","Italian","Portuguese","Dutch","Russian","Polish","Chinese (Mandarin)","Japanese","Korean","Hindi","Arabic","Urdu","Amharic","Hausa","Yoruba","Igbo","Zulu","Afrikaans"],Pe=[{id:"male",name:"Male",description:"👨 Male"},{id:"female",name:"Female",description:"👩 Female"},{id:"other",name:"Other",description:"🧑 Other"},{id:"prefer_not_to_say",name:"Prefer not to say",description:"🤐 Prefer not to say"}],Ee=[{id:"rwanda",name:"Rwanda",description:"🇷🇼 Rwanda"},{id:"uganda",name:"Uganda",description:"🇺🇬 Uganda"},{id:"kenya",name:"Kenya",description:"🇰🇪 Kenya"},{id:"tanzania",name:"Tanzania",description:"🇹🇿 Tanzania"},{id:"burundi",name:"Burundi",description:"🇧🇮 Burundi"},{id:"drc",name:"Democratic Republic of Congo",description:"🇨🇩 DRC"},{id:"other",name:"Other",description:"🌍 Other Country"}],O=({label:T,value:t,onChange:E,options:x,placeholder:R,required:z=!1,loading:f=!1,className:y=""})=>e.jsxs("div",{className:y,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[T," ",z&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:t||"",onChange:n=>E(n.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900 bg-white transition-all duration-200 hover:border-gray-400",disabled:f,children:[e.jsx("option",{value:"",children:R}),x.map(n=>e.jsx("option",{value:n.id,title:n.description,children:n.description||n.name},n.id))]}),f&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Loading options..."})]}),Ke=()=>{const{t:T}=ve(),{user:t,updateProfile:E}=Ce(),x=ye(),[R,z]=o.useState(!1),[f,y]=o.useState(!1),[n,d]=o.useState({show:!1,type:"",message:""}),[ee,ae]=o.useState(null),[g,K]=o.useState(null),[$,D]=o.useState([]),[Re,De]=o.useState(!1),[u,j]=o.useState([]),[N,U]=o.useState(""),[_,te]=o.useState(""),[m,w]=o.useState([]),[C,Y]=o.useState(""),[q,re]=o.useState(""),[l,b]=o.useState({firstName:"",lastName:"",email:"",description:"",skills:"",gender:"",dateOfBirth:"",idNumber:"",contactNumber:"",maritalStatus:"",location:"",city:"",country:"",references:"",experience:"",experienceLevel:"",monthlyRate:"",availability:"",educationLevel:"",languages:"",certifications:"",jobCategoryId:null}),[p,le]=o.useState(0),[se,ie]=o.useState([]);o.useEffect(()=>{if(t){const a=()=>t.profile?.skills?t.profile.skills.split(",").map(s=>s.trim()).filter(s=>s):[],r=()=>t.profile?.languages?t.profile.languages.split(",").map(s=>s.trim()).filter(s=>s):[];b({firstName:t.profile?.firstName||"",lastName:t.profile?.lastName||"",email:t.email||"",description:t.profile?.description||"",skills:t.profile?.skills||"",gender:t.profile?.gender||"",dateOfBirth:t.profile?.dateOfBirth?t.profile.dateOfBirth.split("T")[0]:"",idNumber:t.profile?.idNumber||"",contactNumber:t.profile?.contactNumber||"",maritalStatus:t.profile?.maritalStatus||"",location:t.profile?.location||"",city:t.profile?.city||"",country:t.profile?.country||"",references:t.profile?.references||"",experience:t.profile?.experience||"",experienceLevel:t.profile?.experienceLevel||"",monthlyRate:t.profile?.monthlyRate||"",availability:t.profile?.availability||"",educationLevel:t.profile?.educationLevel||"",languages:t.profile?.languages||"",certifications:t.profile?.certifications||"",jobCategoryId:t.profile?.jobCategoryId||null}),j(a()),w(r()),K(t.profile?.photo)}},[t]),o.useEffect(()=>{(async()=>{try{const r=await Se.getAllCategories();r.success?D(r.data):(console.error("Error fetching job categories:",r.error),D([]))}catch(r){console.error("Error fetching job categories:",r),D([])}})()},[]),o.useEffect(()=>{const a=[{field:"firstName",weight:8,label:"First Name"},{field:"lastName",weight:8,label:"Last Name"},{field:"contactNumber",weight:10,label:"Contact Number"},{field:"skills",weight:10,label:"Skills"},{field:"jobCategoryId",weight:10,label:"Job Category"},{field:"description",weight:8,label:"Professional Description"},{field:"experience",weight:8,label:"Work Experience"},{field:"experienceLevel",weight:6,label:"Experience Level"},{field:"location",weight:8,label:"Location"},{field:"availability",weight:6,label:"Availability"},{field:"educationLevel",weight:6,label:"Education Level"},{field:"email",weight:5,label:"Email"},{field:"gender",weight:4,label:"Gender"},{field:"dateOfBirth",weight:5,label:"Date of Birth"},{field:"city",weight:5,label:"City"},{field:"country",weight:4,label:"Country"},{field:"maritalStatus",weight:3,label:"Marital Status"},{field:"monthlyRate",weight:6,label:"Expected Monthly Rate"},{field:"languages",weight:5,label:"Languages"},{field:"certifications",weight:4,label:"Certifications"},{field:"references",weight:4,label:"References"},{field:"idNumber",weight:3,label:"ID Number"}];let r=0,s=0;const S=[];a.forEach(({field:B,weight:M,label:be})=>{s+=M;let v=!1;const h=l[B];Array.isArray(h)?v=h.length>0:B==="jobCategoryId"?v=h!=null&&h!=="":v=h&&h.toString().trim()!=="",v&&(r+=M),S.push({field:B,weight:M,completed:v,label:be})});const L=Math.round(r/s*100);le(L),ie(S)},[l]);const i=(a,r)=>{if(a.includes(".")){const[s,S]=a.split(".");b(L=>({...L,[s]:{...L[s],[S]:r}}))}else b(s=>({...s,[a]:r}))},oe=a=>{if(!u.includes(a)){const r=[...u,a];j(r),A(r)}},ne=a=>{const r=u.filter(s=>s!==a);j(r),A(r)},W=()=>{if(N.trim()&&!u.includes(N.trim())){const a=[...u,N.trim()];j(a),A(a),U("")}},A=a=>{b(r=>({...r,skills:a.join(", ")}))},ce=a=>{if(!m.includes(a)){const r=[...m,a];w(r),I(r)}},de=a=>{const r=m.filter(s=>s!==a);w(r),I(r)},H=()=>{if(C.trim()&&!m.includes(C.trim())){const a=[...m,C.trim()];w(a),I(a),Y("")}},I=a=>{b(r=>({...r,languages:a.join(", ")}))},ue=Le.filter(a=>a.toLowerCase().includes(_.toLowerCase())),me=ke.filter(a=>a.toLowerCase().includes(q.toLowerCase())),ge=a=>{const r=a.target.files[0];if(r){ae(r);const s=new FileReader;s.onloadend=()=>{K(s.result)},s.readAsDataURL(r)}},pe=async()=>{try{localStorage.removeItem("job_portal_token"),localStorage.removeItem("job_portal_refresh_token"),d({show:!0,type:"success",message:"Successfully logged out. Redirecting to home page..."}),setTimeout(()=>{x("/")},1500)}catch(a){console.error("Logout error:",a),d({show:!0,type:"error",message:"Error during logout. Please try again."})}},he=async a=>{a.preventDefault(),y(!0);try{const r=await E(l,ee);r&&r.success?(setTimeout(()=>{d({show:!0,type:"success",message:"Profile updated successfully! 🎉"})},100),setTimeout(()=>{d({show:!1,type:"",message:""})},5100)):(d({show:!0,type:"error",message:r?.error||"Error updating profile. Please try again."}),setTimeout(()=>{d({show:!1,type:"",message:""})},7e3))}catch(r){console.error("Error updating profile:",r),d({show:!0,type:"error",message:"Error updating profile. Please try again."}),setTimeout(()=>{d({show:!1,type:"",message:""})},7e3)}finally{y(!1)}},xe=a=>a>=80?"text-green-600":a>=60?"text-yellow-600":a>=40?"text-orange-600":"text-red-600",fe=a=>a>=80?"Excellent! Your profile is nearly complete.":a>=60?"Good progress! Complete a few more fields to improve your profile.":a>=40?"You're making progress. Keep filling in the details.":"Your profile needs more information to be effective.";return R?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(Z,{size:"lg",text:"Loading profile..."})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.show&&e.jsx("div",{className:`fixed top-20 left-1/2 transform -translate-x-1/2 z-[9999] px-8 py-6 rounded-lg shadow-2xl max-w-lg w-full mx-4 border-4 ${n.type==="success"?"bg-green-500 text-white border-green-300":"bg-red-500 text-white border-red-300"}`,style:{zIndex:99999},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[n.type==="success"?e.jsx("div",{className:"w-6 h-6 rounded-full bg-white bg-opacity-20 flex items-center justify-center mr-3",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):e.jsx("div",{className:"w-6 h-6 rounded-full bg-white bg-opacity-20 flex items-center justify-center mr-3",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("span",{className:"font-medium",children:n.message})]}),e.jsx("button",{onClick:()=>d({show:!1,type:"",message:""}),className:"ml-4 text-white hover:text-gray-200 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"J"})}),e.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"Update Profile"})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs(k,{variant:"outline",size:"sm",onClick:pe,className:"flex items-center text-gray-600 hover:text-red-600 hover:border-red-300",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t?.profile?.approvalStatus&&e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:e.jsx(P,{className:`p-4 border-l-4 ${t.profile.approvalStatus==="approved"?"border-l-green-500 bg-green-50":t.profile.approvalStatus==="rejected"?"border-l-red-500 bg-red-50":"border-l-yellow-500 bg-yellow-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[t.profile.approvalStatus==="approved"?e.jsx(G,{className:"w-5 h-5 text-green-600 mr-3"}):t.profile.approvalStatus==="rejected"?e.jsx(J,{className:"w-5 h-5 text-red-600 mr-3"}):e.jsx(je,{className:"w-5 h-5 text-yellow-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.profile.approvalStatus==="approved"?"Profile Approved!":t.profile.approvalStatus==="rejected"?"Profile Rejected":"Profile Under Review"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.profile.approvalStatus==="approved"?"Your profile is now visible to potential employers.":t.profile.approvalStatus==="rejected"?t.profile.rejectionReason?`Reason: ${t.profile.rejectionReason}`:"Your profile was not approved. Please contact support for details.":"Our team is reviewing your profile. This usually takes 24-48 hours."})]})]}),t.profile.approvalStatus==="rejected"&&e.jsx(k,{variant:"outline",size:"sm",onClick:()=>x("/contact"),className:"text-red-600 border-red-300 hover:bg-red-50",children:"Contact Support"})]})})}),e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs(P,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Completion"}),e.jsxs("div",{className:`text-2xl font-bold ${xe(p)}`,children:[p,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:e.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${p>=80?"bg-green-500":p>=60?"bg-yellow-500":p>=40?"bg-orange-500":"bg-red-500"}`,style:{width:`${p}%`}})}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:fe(p)}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:se.map((a,r)=>e.jsxs("div",{className:"flex items-center text-sm",children:[a.completed?e.jsx(G,{className:"w-4 h-4 text-green-500 mr-2"}):e.jsx(J,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("span",{className:a.completed?"text-gray-900":"text-gray-500",children:a.label})]},r))})]})}),e.jsxs(F.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onSubmit:he,className:"space-y-8",children:[e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Photo"}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200 border-2 border-gray-300 shadow-sm",children:[g||t.profile?.photo?e.jsx("img",{src:(()=>{let a;return g?g.startsWith("data:")||g.startsWith("blob:")?a=g:a=`http://localhost:3000/${g}`:t.profile?.photo&&(a=`http://localhost:3000/${t.profile?.photo}`),a})(),alt:"Profile",className:"w-full h-full object-cover",onError:a=>{console.error("❌ Image failed to load:",a.target.src),a.target.style.display="none",a.target.nextSibling.style.display="flex"},onLoad:()=>{}}):null,!(g||t.profile?.photo)&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(V,{className:"w-8 h-8 text-gray-400"})}),e.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:"none"},children:e.jsx(V,{className:"w-8 h-8 text-gray-400"})})]}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:ge,className:"hidden",id:"profile-image"}),e.jsxs("label",{htmlFor:"profile-image",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})]})]})]}),e.jsx(c,{label:"First Name",value:l.firstName,onChange:a=>i("firstName",a.target.value),required:!0,placeholder:"Enter your first name"}),e.jsx(c,{label:"Last Name",value:l.lastName,onChange:a=>i("lastName",a.target.value),placeholder:"Enter your last name"}),e.jsx(c,{label:"Bio/Description",value:l.description,onChange:a=>i("description",a.target.value),rows:4,className:"md:col-span-2",placeholder:"Tell potential employers about your experience, skills, and what makes you a great worker...",required:!0}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills *"}),e.jsxs("div",{className:"space-y-3",children:[u.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((a,r)=>e.jsxs(Q,{variant:"primary",className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:[a,e.jsx("button",{type:"button",onClick:()=>ne(a),className:"ml-1 text-blue-600 hover:text-blue-800",children:e.jsx(X,{className:"w-3 h-3"})})]},r))}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",value:_,onChange:a=>te(a.target.value),placeholder:"Search skills...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500"})}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-1 max-h-32 overflow-y-auto border border-gray-300 rounded p-2",children:ue.map(a=>e.jsx("button",{type:"button",onClick:()=>oe(a),disabled:u.includes(a),className:`text-left p-1 rounded text-xs ${u.includes(a)?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white hover:bg-blue-50 text-gray-700 border border-gray-200"}`,children:a},a))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:N,onChange:a=>U(a.target.value),placeholder:"Add custom skill...",className:"flex-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500",onKeyPress:a=>a.key==="Enter"&&(a.preventDefault(),W())}),e.jsx("button",{type:"button",onClick:W,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Add"})]})]})]}),e.jsx(c,{label:"Email",type:"email",value:l.email,onChange:a=>i("email",a.target.value),placeholder:"your.email@example.com"}),e.jsx(O,{label:"Gender",value:l.gender,onChange:a=>i("gender",a),options:Pe,placeholder:"Select Gender"}),e.jsx(c,{label:"Date of Birth",type:"date",value:l.dateOfBirth,onChange:a=>i("dateOfBirth",a.target.value),placeholder:"YYYY-MM-DD"}),e.jsx(c,{label:"ID Number",value:l.idNumber,onChange:a=>i("idNumber",a.target.value),placeholder:"Enter your ID number"}),e.jsx(c,{label:"Contact Number",value:l.contactNumber,onChange:a=>i("contactNumber",a.target.value),required:!0,placeholder:"+250 789 123 456"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marital Status"}),e.jsxs("select",{name:"maritalStatus",value:l.maritalStatus,onChange:a=>i("maritalStatus",a.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Single",children:"Single"}),e.jsx("option",{value:"Married",children:"Married"}),e.jsx("option",{value:"Divorced",children:"Divorced"}),e.jsx("option",{value:"Widowed",children:"Widowed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience Level *"}),e.jsxs("select",{name:"experienceLevel",value:l.experienceLevel,onChange:a=>i("experienceLevel",a.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Experience Level"}),e.jsx("option",{value:"no_experience",children:"No Experience (0 years)"}),e.jsx("option",{value:"beginner",children:"Beginner (1-2 years)"}),e.jsx("option",{value:"intermediate",children:"Intermediate (3-5 years)"}),e.jsx("option",{value:"experienced",children:"Experienced (6-10 years)"}),e.jsx("option",{value:"expert",children:"Expert (10+ years)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Availability"}),e.jsxs("select",{name:"availability",value:l.availability,onChange:a=>i("availability",a.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"",children:"Select Availability"}),e.jsx("option",{value:"Available",children:"Available"}),e.jsx("option",{value:"Part-time",children:"Part-time"}),e.jsx("option",{value:"Contract",children:"Contract"}),e.jsx("option",{value:"Freelance",children:"Freelance"}),e.jsx("option",{value:"Not Available",children:"Not Available"}),e.jsx("option",{value:"Open to Opportunities",children:"Open to Opportunities"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Education Level"}),e.jsxs("select",{name:"educationLevel",value:l.educationLevel,onChange:a=>i("educationLevel",a.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"",children:"Select Education Level"}),e.jsx("option",{value:"No Formal Education",children:"No Formal Education"}),e.jsx("option",{value:"Primary School",children:"Primary School"}),e.jsx("option",{value:"Secondary School",children:"Secondary School"}),e.jsx("option",{value:"High School",children:"High School"}),e.jsx("option",{value:"Vocational Training",children:"Vocational Training"}),e.jsx("option",{value:"Associate Degree",children:"Associate Degree"}),e.jsx("option",{value:"Bachelor's Degree",children:"Bachelor's Degree"}),e.jsx("option",{value:"Master's Degree",children:"Master's Degree"}),e.jsx("option",{value:"PhD",children:"PhD"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]})]}),e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Location & References"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(c,{label:"Location",value:l.location,onChange:a=>i("location",a.target.value),required:!0,placeholder:"e.g., Kigali, Rwanda"}),e.jsx(c,{label:"City",value:l.city,onChange:a=>i("city",a.target.value),required:!0,placeholder:"e.g., Kigali"}),e.jsx(O,{label:"Country",value:l.country,onChange:a=>i("country",a),options:Ee,placeholder:"Select Country"}),e.jsx(c,{label:"Experience (Years)",value:l.experience,onChange:a=>i("experience",a.target.value),required:!0,placeholder:"e.g., 2"}),e.jsx(c,{label:"Monthly Rate (frw)",type:"number",value:l.monthlyRate,onChange:a=>i("monthlyRate",a.target.value),placeholder:"e.g., 120000"}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Languages"}),e.jsxs("div",{className:"space-y-3",children:[m.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:m.map((a,r)=>e.jsxs(Q,{variant:"secondary",className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:[a,e.jsx("button",{type:"button",onClick:()=>de(a),className:"ml-1 text-green-600 hover:text-green-800",children:e.jsx(X,{className:"w-3 h-3"})})]},r))}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",value:q,onChange:a=>re(a.target.value),placeholder:"Search languages...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500"})}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-1 max-h-32 overflow-y-auto border border-gray-300 rounded p-2",children:me.map(a=>e.jsx("button",{type:"button",onClick:()=>ce(a),disabled:m.includes(a),className:`text-left p-1 rounded text-xs ${m.includes(a)?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white hover:bg-green-50 text-gray-700 border border-gray-200"}`,children:a},a))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:C,onChange:a=>Y(a.target.value),placeholder:"Add custom language...",className:"flex-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500",onKeyPress:a=>a.key==="Enter"&&(a.preventDefault(),H())}),e.jsx("button",{type:"button",onClick:H,className:"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Add"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certifications"}),e.jsx("textarea",{value:l.certifications,onChange:a=>i("certifications",a.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900",placeholder:"List any certifications, training, or qualifications you have"})]}),e.jsx(O,{label:"Work Category",value:l.jobCategoryId,onChange:a=>i("jobCategoryId",a?parseInt(a):null),options:$.map(a=>({id:a.id,name:a.name_en,description:`💼 ${a.name_en}`})),placeholder:"Select Work Category",required:!0,loading:$.length===0}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"References"}),e.jsx("textarea",{value:l.references,onChange:a=>i("references",a.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900",placeholder:"List any previous employers or references"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(k,{type:"button",variant:"outline",onClick:()=>x("/dashboard/jobseeker"),children:"Cancel"}),e.jsx(k,{type:"submit",variant:"primary",disabled:f,className:"min-w-[120px]",children:f?e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:"sm"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"Save Profile"]})})]})]})]})]})};export{Ke as default};
