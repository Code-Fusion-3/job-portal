import{ag as M,r as c,j as e,af as w,bJ as T,bK as q,bL as F,aY as k,ax as W,aK as _,aT as U,aZ as D,bM as S,a_ as G,aL as H,b1 as C,b3 as K,ah as V,ay as $,av as O,aw as B,az as Y,aC as Z,aE as Q,aW as X}from"./vendor-react-CtYtWwv0.js";import{u as ee,H as d,L as se,F as o,B as x,b as ae,C as f,j as L}from"./index-n9net970.js";import{B as j}from"./BackButton-Wt-YD-lN.js";import{B as b}from"./Badge-__rCq1df.js";import{A as te}from"./Avatar-DTmCuHhk.js";import{j as m}from"./jobseekerBackground-BLVGbC9a.js";import{c as le,a as re}from"./vendor-router-sNuBhaUK.js";import{m as h}from"./vendor-motion-B1EvosFv.js";import"./vendor-gsap-B4nt0ofr.js";const fe=()=>{const{t:ie}=M(),{id:i}=le(),u=re(),[s,P]=c.useState(null),[A,N]=c.useState(!0),[v,y]=c.useState(null),[p,E]=c.useState(!1),[g,z]=c.useState(!1),{user:n}=ee();c.useEffect(()=>{i&&(async()=>{N(!0);try{let l;if(!n)l=await L.getPublicJobSeekerById(i);else{let r=i;typeof i=="string"&&i.startsWith("JS")&&(r=parseInt(i.replace(/^JS/,""),10)),l=await L.getJobSeekerById(r)}l&&l.success?P(l.data):y(l?.error||"Profile not found or not available for public viewing")}catch(l){console.error("Error fetching job seeker:",l),y("Failed to load profile. This profile may not be approved for public viewing.")}finally{N(!1)}})()},[i,u,n]);const J=()=>{u(`/employer-request/${i}`)},I=()=>{z(!g)},R=()=>{navigator.share?navigator.share({title:`${s?.name} - ${s?.title}`,text:`Check out ${s?.name}'s profile on Job Portal`,url:window.location.href}):navigator.clipboard.writeText(window.location.href)},a=!n&&s&&s.id&&s.id.startsWith("JS");return A?e.jsxs("div",{className:"min-h-screen bg-cover bg-center bg-fixed",style:{backgroundImage:`url(${m})`},children:[e.jsx(d,{}),e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx(se,{size:"lg",text:"Loading profile..."})}),e.jsx(o,{})]}):v?e.jsxs("div",{className:"min-h-screen bg-cover bg-center bg-fixed",style:{backgroundImage:`url(${m})`},children:[e.jsx(d,{}),e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"text-center bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-8 max-w-md mx-4",children:[e.jsx("div",{className:"text-orange-500 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Profile Not Available"}),e.jsx("p",{className:"text-gray-600 mb-6",children:v}),e.jsx("div",{className:"text-sm text-blue-600 bg-blue-50 rounded-lg p-3 mb-6",children:"ðŸ’¡ This profile may be under review or not approved for public viewing yet."}),e.jsx(j,{})]})}),e.jsx(o,{})]}):s?e.jsxs("div",{className:"min-h-screen bg-cover bg-center bg-fixed",style:{backgroundImage:`url(${m})`},children:[e.jsx(d,{}),e.jsxs("div",{className:"relative backdrop-blur-sm",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 mt-16",children:[e.jsx(j,{className:"text-white hover:text-gray-200"}),e.jsx(h.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-2xl p-8 mt-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center space-y-6 lg:space-y-0 lg:space-x-8",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx(te,{src:a?s.photo:s?.profile?.photo,alt:a?`${s.firstName} ${s.lastName}`:`${s?.profile?.firstName} ${s?.profile?.lastName}`,size:"xl",fallback:a?`${s.firstName} ${s.lastName}`:`${s?.profile?.firstName} ${s?.profile?.lastName}`,className:"w-32 h-32 ring-4 ring-white shadow-lg"}),!a&&e.jsx("div",{className:"absolute -bottom-2 -right-2 bg-green-500 rounded-full p-1",children:e.jsx(w,{className:"w-5 h-5 text-white"})})]})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:a?`${s.firstName} ${s.lastName}`:`${s?.profile?.firstName} ${s?.profile?.lastName}`}),n?.role==="admin"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{variant:"ghost",size:"sm",onClick:I,className:`p-2 rounded-full ${g?"text-red-600 bg-red-50":"text-gray-400 hover:text-gray-600"}`,children:g?e.jsx(T,{className:"w-5 h-5 fill-current"}):e.jsx(q,{className:"w-5 h-5"})}),e.jsx(x,{variant:"ghost",size:"sm",onClick:R,className:"p-2 rounded-full text-gray-400 hover:text-gray-600",children:e.jsx(F,{className:"w-5 h-5"})})]})]}),e.jsx("p",{className:"text-xl text-blue-600 font-semibold mb-4",children:a?s.jobCategory?.name_en||"Job Seeker":s?.profile?.jobCategory?.name_en||"Job Seeker"}),a&&s.approvalStatus&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium ${s.approvalStatus==="approved"?"bg-green-100 text-green-800 border border-green-200":s.approvalStatus==="rejected"?"bg-red-100 text-red-800 border border-red-200":"bg-yellow-100 text-yellow-800 border border-yellow-200"}`,children:[s.approvalStatus==="approved"?e.jsx(w,{className:"w-4 h-4"}):s.approvalStatus==="rejected"?e.jsx(AlertCircle,{className:"w-4 h-4"}):e.jsx(k,{className:"w-4 h-4"}),s.approvalStatus==="approved"?"Verified Profile":s.approvalStatus==="rejected"?"Profile Not Available":"Profile Under Review"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(W,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:a?s.location:s?.profile?.location||"Location not specified"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(_,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:a?s.experience:s?.profile?.experience||"Experience not specified"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(k,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-sm font-medium",children:a?s.availability:s?.profile?.availability||"Availability not specified"})]}),a&&s.memberSince&&e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(U,{className:"w-4 h-4 text-orange-500"}),e.jsxs("span",{className:"text-sm font-medium",children:["Member since ",new Date(s.memberSince).toLocaleString("default",{month:"short",year:"numeric"})]})]})]}),e.jsx("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Monthly Rate"})]}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:ae(a?s.monthlyRate:s?.profile?.monthlyRate)})]})})]})})})]})})]})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs(f,{className:"p-8 bg-white/95 backdrop-blur-sm rounded-2xl shadow-lg border-0",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx(S,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Profile Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(S,{className:"w-4 h-4 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"About"})]}),e.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:a?s.description:s?.profile?.description||"No description available"})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(G,{className:"w-4 h-4 text-purple-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Skills & Expertise"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(a?s.skills:s?.profile?.skills)?(a?s.skills:s?.profile?.skills).split(",").map((t,l)=>e.jsx(b,{variant:"primary",size:"md",className:"px-3 py-1 text-sm font-medium bg-blue-500 text-white border-0",children:t.trim()},l)):e.jsx("p",{className:"text-gray-500",children:"No skills listed"})})]}),a&&s.references&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(H,{className:"w-4 h-4 text-green-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"References"})]}),e.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:e.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:s.references})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:e.jsx(C,{className:"w-4 h-4 text-indigo-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Education & Certifications"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(C,{className:"w-4 h-4 mr-2 text-blue-600"}),e.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Education"})]}),e.jsx("p",{className:"text-gray-700 text-sm",children:a?s.educationLevel:s?.profile?.educationLevel})]}),e.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(K,{className:"w-4 h-4 mr-2 text-green-600"}),e.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Certifications"})]}),e.jsx("div",{className:"space-y-1",children:(()=>{const t=a?s.certifications:s?.profile?.certifications;return Array.isArray(t)&&t.length>0?t.map((l,r)=>e.jsx("p",{className:"text-gray-700 text-sm",children:l},r)):t&&typeof t=="string"&&t.trim()!==""?t.split(",").map((l,r)=>e.jsx("p",{className:"text-gray-700 text-sm",children:l.trim()},r)):e.jsx("p",{className:"text-gray-500 text-sm",children:"No certifications listed"})})()})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx(V,{className:"w-4 h-4 text-orange-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Languages"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const t=a?s.languages:s?.profile?.languages;return Array.isArray(t)&&t.length>0?t.map((l,r)=>e.jsx(b,{variant:"outline",size:"md",className:"px-3 py-1 text-sm font-medium border-orange-200 text-orange-700 bg-orange-50",children:l},r)):t&&typeof t=="string"&&t.trim()!==""?t.split(",").map((l,r)=>e.jsx(b,{variant:"outline",size:"md",className:"px-3 py-1 text-sm font-medium border-orange-200 text-orange-700 bg-orange-50",children:l.trim()},r)):e.jsx("p",{className:"text-gray-500 text-sm",children:"No languages listed"})})()})]})]})]})]})})}),e.jsxs("div",{className:"space-y-6",children:[!a&&e.jsx(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:e.jsxs(f,{className:"p-6 bg-white/95 backdrop-blur-sm rounded-2xl shadow-lg border-0 sticky top-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx($,{className:"w-4 h-4 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Contact Information"})]}),n?.role==="admin"&&e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>E(!p),className:"p-2 rounded-full hover:bg-gray-100",children:p?e.jsx(O,{className:"w-4 h-4"}):e.jsx(B,{className:"w-4 h-4"})})]}),p?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx($,{className:"w-4 h-4 mr-3 text-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:s.contact?.email})]}),e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(Y,{className:"w-4 h-4 mr-3 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:s.contact?.phone})]}),s.contact?.linkedin&&e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(Z,{className:"w-4 h-4 mr-3 text-blue-600"}),e.jsxs("a",{href:`https://${s.contact.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700 flex items-center",children:[s.contact.linkedin,e.jsx(Q,{className:"w-3 h-3 ml-1"})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(B,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Contact information is hidden"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Click to reveal"})]})]})}),e.jsx(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:e.jsxs(f,{className:"p-6 bg-white/95 backdrop-blur-sm rounded-2xl shadow-lg border-0 sticky top-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Actions"}),e.jsx("div",{className:"space-y-3",children:e.jsxs(x,{variant:"primary",size:"lg",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-xl shadow-lg",onClick:J,children:[e.jsx(X,{className:"w-5 h-5 mr-2"}),"Request Candidate"]})})]})})]})]})}),e.jsx(o,{})]}):e.jsxs("div",{className:"min-h-screen bg-cover bg-center bg-fixed",style:{backgroundImage:`url(${m})`},children:[e.jsx(d,{}),e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Profile Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The profile you're looking for doesn't exist."}),e.jsx(j,{})]})}),e.jsx(o,{})]})};export{fe as default};
